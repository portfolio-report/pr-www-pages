import{_ as A}from"./BlVUPpF2.js";import{q as R,t as V,ab as D,w as I,j as h,A as N,x as s,y as o,u as e,h as r,G as n,N as i,z as p,Q as l,S as L,U as z,L as x,_ as Q}from"./BF7OD9wd.js";import{s as j,_ as q}from"./B_yTDF1u.js";import{_ as E}from"./BudgGnfp.js";import{T as F}from"./BW6ZRXev.js";import{u as G}from"./BXkM2ZPZ.js";import{u as H,a as $,b as K}from"./DIlcfDno.js";import{u as U}from"./e3ZtvKj8.js";import{_ as W}from"./DlAUqK2U.js";import"./rf1zdUmJ.js";import"./BVVfk8Fr.js";import"./BejlMSNL.js";import"./OWbkn9Rs.js";import"./CEoMN0_k.js";import"./XG6rDnCo.js";const J={class:"text-gray-500 separator-container font-mono mt-2"},C=20,M=R({__name:"index",async setup(O){let u,g;const a=G("page","1",{transform:Number});V({title:"Portfolio Report - Securities",link:[{rel:"canonical",href:`https://www.portfolio-report.net/securities?page=${a.value}`}]});const{data:c,status:T,refresh:P}=([u,g]=D(()=>H(`securities:page-${a.value}`,()=>U(`/v1/securities?page=${a.value}`))),u=await u,g(),u);async function S(w){a.value=w.page+1}return I(a,()=>{P()}),(w,d)=>{var k,b;const v=A,m=Q,B=q,_=E,f=F;return r(),h("div",null,[d[1]||(d[1]=N("h1",{class:"text-2xl font-bold mb-4"}," Securities ",-1)),s(e(K),{lazy:"",paginator:"",value:(k=e(c))==null?void 0:k.data,loading:e(T)==="pending","total-records":(b=e(c))==null?void 0:b.count,rows:C,first:(e(a)-1)*C,"paginator-template":"CurrentPageReport","current-page-report-template":"Showing {first} to {last} of {totalRecords} securities","striped-rows":"",onPage:d[0]||(d[0]=t=>S(t))},{paginatorstart:o(()=>[e(a)>1?(r(),n(m,{key:0,to:`/securities?page=${e(a)-1}`},{default:o(()=>[s(v,{solid:"",label:"Previous"})]),_:1},8,["to"])):i("",!0)]),paginatorend:o(()=>{var t;return[e(a)!==((t=e(c))==null?void 0:t.pages)?(r(),n(m,{key:0,to:`/securities?page=${e(a)+1}`},{default:o(()=>[s(v,{solid:"",label:"Next"})]),_:1},8,["to"])):i("",!0)]}),default:o(()=>[s(e($),{field:"name",header:"Name"},{body:o(({data:t})=>[s(m,{to:`/securities/${t.uuid}`,class:"text-blue-500"},{default:o(()=>[p(l(t.name),1)]),_:2},1032,["to"]),(r(!0),h(L,null,z(t.tags,y=>(r(),n(B,{key:y,name:y},null,8,["name"]))),128)),N("div",J,[t.isin?x((r(),n(_,{key:0,text:t.isin},{default:o(()=>[p(l(t.isin),1)]),_:2},1032,["text"])),[[f,"ISIN",void 0,{top:!0}]]):i("",!0),t.wkn?x((r(),n(_,{key:1,text:t.wkn},{default:o(()=>[p(l(t.wkn),1)]),_:2},1032,["text"])),[[f,"WKN",void 0,{top:!0}]]):i("",!0),t.code?x((r(),n(_,{key:2,text:t.code},{default:o(()=>[p(l(t.code),1)]),_:2},1032,["text"])),[[f,"Code",void 0,{top:!0}]]):i("",!0)])]),_:1}),s(e($),{field:"securityType",header:"Type"},{body:o(({data:t})=>[s(e(j),{class:"mx-1 p-1 !text-xs !bg-teal-500 !text-white"},{default:o(()=>[p(l(t.securityType),1)]),_:2},1024)]),_:1})]),_:1},8,["value","loading","total-records","first"])])}}}),ct=W(M,[["__scopeId","data-v-3b608009"]]);export{ct as default};
