import B from"./cAlkL6j1.js";import T from"./DsC8PWz_.js";import V from"./D5kQJGNg.js";import k from"./DLrHAmHI.js";import w from"./C0Y64LR1.js";import N from"./Fk2QnHfG.js";import P from"./GXdDFV3I.js";import R from"./Bh3Y0-Rz.js";import{h as S,D as z,M as E,N as F,r as q,c as G,l as L,x as d,G as M,P as O,m as t,q as o,t as U,v as h,u as i,i as j}from"./0K7EgrWa.js";import{u as H}from"./BRw68SAX.js";import{u as I}from"./CJIhKayf.js";import{s as J}from"./CkHadNcG.js";import"./-mjtd_FZ.js";import"./BAwk2Orb.js";import"./1j3xMog3.js";import"./Dyl605Tl.js";import"./jf5jgAt8.js";import"./Dlhkj4NC.js";import"./IhHu8OAK.js";import"./DQLFw_I_.js";import"./DWOHXhEQ.js";import"./Bu69rnz-.js";import"./C2XTb1aD.js";import"./BqZCYnFa.js";import"./DoQ2cQWg.js";import"./Bl_B4J20.js";import"./BbDVOOZg.js";import"./CVrxrQdI.js";import"./COcei2-k.js";import"./B9ohpPAM.js";import"./v8T8br8W.js";import"./CsWWJPWB.js";import"./DOD1FI3A.js";import"./KBAzlE1k.js";import"./Bk52yLiO.js";import"./DnvJsqgd.js";import"./k6Rk3Lod.js";import"./DIIMF9wV.js";const K={class:"flex items-center my-2"},Q=d("label",{for:"checkboxAccumulated",class:"ml-2"},"Accumulated numbers",-1),zt=S({__name:"[version]",async setup(W){var b;let u,f;const _=z(),{data:a,error:C}=([u,f]=E(()=>H(`stats:${_.params.version}`,()=>I(`/stats/updates/${_.params.version}`))),u=await u,f(),u);if(C.value||((b=a.value)==null?void 0:b.byCountry)==null||a.value.byDate==null)throw F({statusCode:404});const D={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1}}},m=q(!1),x=G(()=>{var l;if(!((l=a.value)!=null&&l.byCountry))return{labels:[],datasets:[]};const r=[...a.value.byDate].sort((e,s)=>e.date.localeCompare(s.date));return{labels:r.map(e=>e.date),datasets:[{backgroundColor:"#3B82F6",borderColor:"#3B82F6",fill:!1,data:m.value?r.reduce((e,s)=>{const c=e.length>0?e[e.length-1]+s.count:s.count;return e.push(c),e},[]):r.map(e=>e.count)}]}});return(r,l)=>{const e=B,s=T,c=V,p=k,y=w,v=N,$=P,g=R;return U(),L("div",null,[d("h2",null,"Version Statistics for "+M((r._.provides[O]||r.$route).params.version),1),t(g,{value:"byDate"},{default:o(()=>[t(s,null,{default:o(()=>[t(e,{value:"byDate"},{default:o(()=>[h(" By date ")]),_:1}),t(e,{value:"byCountry"},{default:o(()=>[h(" By country ")]),_:1})]),_:1}),t($,null,{default:o(()=>[t(v,{value:"byDate"},{default:o(()=>{var n;return[t(i(J),{type:"line",data:i(x),options:D,style:{height:"400px"}},null,8,["data"]),d("div",K,[t(c,{modelValue:i(m),"onUpdate:modelValue":l[0]||(l[0]=A=>j(m)?m.value=A:null),binary:"","input-id":"checkboxAccumulated"},null,8,["modelValue"]),Q]),t(y,{value:(n=i(a))==null?void 0:n.byDate,"sort-field":"date","sort-order":-1,class:"font-mono",size:"small"},{default:o(()=>[t(p,{field:"date",header:"Date",sortable:!0}),t(p,{field:"count",header:"Count",sortable:!0,class:"!text-right"})]),_:1},8,["value"])]}),_:1}),t(v,{value:"byCountry"},{default:o(()=>{var n;return[t(y,{value:(n=i(a))==null?void 0:n.byCountry,"sort-field":"count","sort-order":-1,class:"font-mono",size:"small"},{default:o(()=>[t(p,{field:"country",header:"Country",sortable:!0}),t(p,{field:"count",header:"Count",sortable:!0,class:"!text-right"})]),_:1},8,["value"])]}),_:1})]),_:1})]),_:1})])}}});export{zt as default};
