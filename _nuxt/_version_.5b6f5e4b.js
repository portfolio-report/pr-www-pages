import{d as D,f as g,g as w,h as B,j as x,o as T,c as V,b,t as A,a as e,w as r,r as n,n as c,q as k}from"./entry.d6943cf6.js";import{u as S}from"./asyncData.dd3e943b.js";const $=b("h1",null,"Statistics",-1),P=D({__name:"[version]",async setup(E){var _;let l,i;const p=g(),{data:a,error:h}=([l,i]=w(()=>S(`stats:${p.params.version}`,()=>k(`/stats/updates/${p.params.version}`))),l=await l,i(),l);if(h.value||((_=a.value)==null?void 0:_.byCountry)==null||a.value.byDate==null)throw B({statusCode:404});const y={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1}}},C=x(()=>{var d;if(!((d=a.value)!=null&&d.byCountry))return{labels:[],datasets:[]};const u=[...a.value.byDate].sort((t,s)=>t.date.localeCompare(s.date));return{labels:u.map(t=>t.date),datasets:[{backgroundColor:"#3B82F6",borderColor:"#3B82F6",fill:!1,data:u.map(t=>t.count)}]}});return(u,d)=>{const t=n("Chart"),s=n("Column"),m=n("DataTable"),f=n("TabPanel"),v=n("TabView");return T(),V("div",null,[$,b("h2",null,"Client Updates - Version "+A(u.$route.params.version),1),e(v,null,{default:r(()=>[e(f,{header:"By date"},{default:r(()=>{var o;return[e(t,{type:"line",data:c(C),options:y,style:{height:"400px"}},null,8,["data"]),e(m,{value:(o=c(a))==null?void 0:o.byDate,"sort-field":"date","sort-order":-1,class:"p-datatable-sm"},{default:r(()=>[e(s,{field:"date",header:"Date",sortable:!0}),e(s,{field:"count",header:"Count",sortable:!0,class:"text-right"})]),_:1},8,["value"])]}),_:1}),e(f,{header:"By country"},{default:r(()=>{var o;return[e(m,{value:(o=c(a))==null?void 0:o.byCountry,"sort-field":"count","sort-order":-1,class:"p-datatable-sm"},{default:r(()=>[e(s,{field:"country",header:"Country",sortable:!0}),e(s,{field:"count",header:"Count",sortable:!0,class:"text-right"})]),_:1},8,["value"])]}),_:1})]),_:1})])}}});export{P as default};
