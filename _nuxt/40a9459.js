(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{445:function(e,t,r){var content=r(468);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(13).default)("016a9dd5",content,!0,{sourceMap:!1})},467:function(e,t,r){"use strict";r(445)},468:function(e,t,r){var n=r(12)(!1);n.push([e.i,"a[data-v-dc1cd77a]{color:#fff!important;text-decoration:none}a[data-v-dc1cd77a]:hover{text-decoration:underline}",""]),e.exports=n},487:function(e,t,r){"use strict";r(24),r(47),r(27);var n=r(17),c=Object(n.b)({name:"SecurityTag",props:{name:{type:String,default:function(){return""}}},setup:function(e){return{linkTo:Object(n.a)((function(){var t=e.name;return t.includes(" ")&&(t='"'+t+'"'),"/search?q=tag:".concat(t)}))}}}),o=(r(467),r(61)),l=r(73),v=r.n(l),d=r(490),component=Object(o.a)(c,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-chip",{attrs:{small:"",color:"secondary","text-color":"white"}},[r("NuxtLink",{attrs:{to:e.linkTo}},[e._v(e._s(e.name))])],1)}),[],!1,null,"dc1cd77a",null);t.a=component.exports;v()(component,{VChip:d.a})},658:function(e,t,r){"use strict";r.r(t);r(9),r(7),r(8),r(10),r(11);var n=r(1),c=r(22),o=(r(46),r(24),r(204),r(88),r(17)),l=r(2),v=r(55),d=r(206),_=Object(o.b)({name:"PricesTable",props:{prices:{type:Array,default:function(){return[]}}},setup:function(e,t){var r=t.emit,n=[{text:"Date",value:"date"},{text:"Close",value:"close"},{text:"",value:"actions",adminOnly:!0}],l=Object(o.l)().$auth,_=Object(o.a)((function(){return n.filter((function(e){return!e.adminOnly||l.loggedIn}))})),f=Object(d.b)();function m(){return(m=Object(c.a)(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f("Are you sure you want to delete the price of ".concat(t.date,"?"),{title:"Delete price",color:"secondary"});case 2:if(!e.sent){e.next=4;break}r("deletePrice",{date:t.date});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return{headers:_,footerProps:{"items-per-page-options":[10,30,100,300]},deletePrice:function(e){return m.apply(this,arguments)},icons:v.a}}}),f=r(61),m=r(73),y=r.n(m),k=r(125),h=r(656),O=r(194),component=Object(f.a)(_,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-data-table",{attrs:{headers:e.headers,items:e.prices,"footer-props":e.footerProps,dense:""},scopedSlots:e._u([{key:"item.actions",fn:function(t){var n=t.item;return[r("v-btn",{attrs:{small:"",color:"error",icon:"",text:""},on:{click:function(t){return e.deletePrice(n)}}},[r("v-icon",[e._v(e._s(e.icons.mdiDelete))])],1)]}}])})}),[],!1,null,null,null),j=component.exports;y()(component,{VBtn:k.a,VDataTable:h.a,VIcon:O.a});var w=r(209),x=r(487);function P(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function S(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?P(Object(source),!0).forEach((function(t){Object(n.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):P(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var C=Object(o.b)({name:"SecurityPage",components:{PricesTable:j,SecurityTag:x.a},setup:function(){var e=Object(o.h)(""),t=Object(o.h)(null),r=Object(w.b)(),n=Object(o.o)(),d=Object(o.l)(),_=d.$axios,f=d.error,m=d.params,y=Object(o.k)(Object(c.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_.$get("/securities/uuid/".concat(m.value.uuid));case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),f({statusCode:404,message:"This page could not be found"});case 9:case"end":return e.stop()}}),e,null,[[0,6]])}))),"uKhcKSiz/SbsddfWGzwgJw=="),k=Object(o.a)((function(){var e;return null!==(e=y.value)&&void 0!==e?e:{}}));function h(){return(h=Object(c.a)(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r(t);case 2:(n=e.sent)&&(t.value=S(S({},t.value),n));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var O=Object(o.a)((function(){var e,t;return null===(t=null===(e=k.value)||void 0===e?void 0:e.markets)||void 0===t?void 0:t.map((function(e){var t;return"XETR"===e.marketCode?t="XETRA (Frankfurt)":"XFRA"===e.marketCode?t="Frankfurt":"XNAS"===e.marketCode?t="NASDAQ":"XNYS"===e.marketCode&&(t="NYSE"),S(S({},e),{},{name:t})}))}));function j(){return(j=Object(c.a)(regeneratorRuntime.mark((function r(n){var c,o;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return c=n.date,r.next=3,_.$delete("/securities/uuid/".concat(k.value.uuid,"/markets/").concat(e.value,"/prices/").concat(c));case 3:o=t.value.prices.findIndex((function(e){return e.date===c})),l.default.delete(t.value.prices,o);case 5:case"end":return r.stop()}}),r)})))).apply(this,arguments)}return Object(o.q)(e,function(){var e=Object(c.a)(regeneratorRuntime.mark((function e(r){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.$get("/securities/uuid/".concat(n.value.params.uuid,"/markets/").concat(r),{params:{from:"2000-01-01"}});case 2:t.value=e.sent;case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Object(o.n)((function(){var e;return{title:(null===(e=k.value)||void 0===e?void 0:e.name)+" - Portfolio Report"}})),{security:k,markets:O,selectedMarket:t,selectedMarketcode:e,editSecurity:function(e){return h.apply(this,arguments)},deletePrice:function(e){return j.apply(this,arguments)},icons:v.a}},head:{}}),T=r(490),V=r(421),D=r(164),M=r(424),R=r(515),I=r(633),X=r(425),$=r(654),A=r(669),N=r(667),E=r(649),F=r(431),U=Object(f.a)(C,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-row",{attrs:{align:"center",justify:"center"}},[r("v-col",{attrs:{cols:"12",sm:"8",md:"6"}},[r("v-row",{attrs:{align:"center"}},[r("v-col",[r("div",{staticClass:"headline"},[e._v("\n          "+e._s(e.security.name)+"\n          "),e.$auth.loggedIn?r("v-btn",{attrs:{color:"primary",icon:"",text:""},on:{click:function(t){return e.editSecurity(e.security)}}},[r("v-icon",[e._v(e._s(e.icons.mdiPencil))])],1):e._e()],1),e._v(" "),r("v-tooltip",{attrs:{right:""},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on;return[r("v-btn",e._g({staticClass:"mt-2",staticStyle:{cursor:"move"},attrs:{color:"primary","max-width":"400",nuxt:"",to:e.$route.path}},n),[r("v-icon",[e._v(e._s(e.icons.mdiDragVariant))]),e._v(" Add to Portfolio\n              Performance\n            ")],1)]}}])},[e._v(" "),r("div",[r("div",{staticClass:"title"},[e._v("Drag and drop!")]),e._v("\n            To add this security in Portfolio"),r("br"),e._v("\n            Performance, drag and drop it to"),r("br"),e._v("\n            securities list or statement of assets.\n          ")])])],1),e._v(" "),r("v-spacer"),e._v(" "),r("v-col",[e.security.logoUrl?r("v-img",{attrs:{src:e.security.logoUrl,"max-width":"100"}}):e._e()],1)],1),e._v(" "),r("v-tabs",{attrs:{grow:""}},[r("v-tab",{key:"overview"},[e._v("Overview")]),e._v(" "),r("v-tab",{key:"prices"},[e._v("Prices")]),e._v(" "),e.security.events&&e.security.events.length?r("v-tab",{key:"events"},[e._v("\n        Events\n      ")]):e._e(),e._v(" "),r("v-tab-item",{key:"overview"},[r("ul",[e.$auth.loggedIn?r("li",[e._v("\n            UUID: "),r("b",[e._v(e._s(e.security.uuid))])]):e._e(),e._v(" "),r("li",[e._v("\n            ISIN: "),r("b",[e._v(e._s(e.security.isin))])]),e._v(" "),r("li",[e._v("\n            WKN: "),r("b",[e._v(e._s(e.security.wkn))])]),e._v(" "),e._l(e.markets,(function(t){return r("li",{key:t.marketCode},[e._v("\n            Market: "),r("b",[e._v(e._s(t.name))]),e._v(" "),r("ul",[r("li",[e._v("\n                Currency: "),r("b",[e._v(e._s(t.currencyCode||"-"))])]),e._v(" "),r("li",[e._v("\n                Symbol: "),r("b",[e._v(e._s(t.symbol))])]),e._v(" "),r("li",[e._v("\n                Prices available: "),r("b",[e._v(e._s(t.firstPriceDate))]),e._v(" -\n                "),r("b",[e._v(e._s(t.lastPriceDate))])])])])})),e._v(" "),e.security.symbolXfra?r("li",[e._v("\n            Symbol (Frankfurt):\n            "),r("b",[e._v(e._s(e.security.symbolXfra))])]):e._e(),e._v(" "),e.security.symbolXnas?r("li",[e._v("\n            Symbol (NASDAQ):\n            "),r("b",[e._v(e._s(e.security.symbolXnas))])]):e._e(),e._v(" "),e.security.symbolXnys?r("li",[e._v("\n            Symbol (New York):\n            "),r("b",[e._v(e._s(e.security.symbolXnys))])]):e._e(),e._v(" "),r("li",[e._v("\n            Type:\n            "),r("v-chip",{attrs:{small:"",color:"primary","text-color":"white"}},[e._v("\n              "+e._s(e.security.securityType)+"\n            ")])],1),e._v(" "),e.security.tags&&e.security.tags.length>0?r("li",[e._v("\n            Tags:\n            "),e._l(e.security.tags,(function(e){return r("SecurityTag",{key:e,attrs:{name:e}})}))],2):e._e()],2)]),e._v(" "),r("v-tab-item",{key:"prices"},[r("v-select",{attrs:{label:"Market",items:e.markets,"item-value":"marketCode"},scopedSlots:e._u([{key:"selection",fn:function(t){var r=t.item;return[e._v("\n            "+e._s(r.name)+" - "+e._s(r.marketCode)+"\n          ")]}},{key:"item",fn:function(t){var r=t.item;return[e._v("\n            "+e._s(r.name)+" - "+e._s(r.marketCode)+"\n          ")]}}]),model:{value:e.selectedMarketcode,callback:function(t){e.selectedMarketcode=t},expression:"selectedMarketcode"}}),e._v(" "),e.selectedMarket?r("div",[r("ul",[r("li",[e._v("\n              Symbol: "),r("b",[e._v(e._s(e.selectedMarket.symbol))])]),e._v(" "),r("li",[e._v("\n              Currency: "),r("b",[e._v(e._s(e.selectedMarket.currencyCode||"-"))])]),e._v(" "),r("li",[e._v("\n              Prices available: "),r("b",[e._v(e._s(e.selectedMarket.firstPriceDate))]),e._v(" -\n              "),r("b",[e._v(e._s(e.selectedMarket.lastPriceDate))])])]),e._v(" "),r("prices-table",{attrs:{prices:e.selectedMarket.prices},on:{deletePrice:e.deletePrice}})],1):e._e()],1),e._v(" "),r("v-tab-item",{key:"events"},[r("v-simple-table",{scopedSlots:e._u([{key:"default",fn:function(){return[r("thead",[r("tr",[r("th",{staticClass:"text-left"},[e._v("Date")]),e._v(" "),r("th",{staticClass:"text-left"},[e._v("Type")]),e._v(" "),r("th",{staticClass:"text-left"},[e._v("...")])])]),e._v(" "),r("tbody",[e._l(e.security.events,(function(t){return r("tr",{key:t.date+t.type},[r("td",[e._v(e._s(t.date))]),e._v(" "),r("td",{staticStyle:{"text-transform":"capitalize"}},[e._v(e._s(t.type))]),e._v(" "),r("td",[e._v("\n                  "+e._s("dividend"===t.type?t.amount+" "+t.currencyCode:"")+"\n                  "+e._s("split"===t.type?t.ratio:"")+"\n                ")])])})),e._v(" "),0===e.security.events.length?r("tr",[r("td",{attrs:{colspan:"3"}},[e._v("No events available")])]):e._e()],2)]},proxy:!0}])})],1)],1),e._v(" "),r("v-tabs-items")],1)],1)}),[],!1,null,null,null);t.default=U.exports;y()(U,{VBtn:k.a,VChip:T.a,VCol:V.a,VIcon:O.a,VImg:D.a,VRow:M.a,VSelect:R.a,VSimpleTable:I.a,VSpacer:X.a,VTab:$.a,VTabItem:A.a,VTabs:N.a,VTabsItems:E.a,VTooltip:F.a})}}]);