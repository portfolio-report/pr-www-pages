import{b as C}from"./useConfirmDialog.c28343ee.js";import{_ as N}from"./AcceptBtn.vue_vue_type_script_setup_true_lang.4ad764ac.js";import{d as T,i as m,o as v,m as x,w as _,r as f,a as n,b as l,c as B,k as D,p as A,q as b}from"./entry.843f1bcd.js";const F=["onSubmit"],I={class:"grid"},g={class:"col-12"},$={key:0,class:"p-float-label mt-4"},E=l("label",{for:"uuid"},"UUID",-1),P={class:"col-12"},j={class:"p-float-label mt-4"},q=l("label",{for:"name"},"Name",-1),H={class:"col-12 md:col-4"},K={class:"p-float-label mt-4"},M=l("label",{for:"isin"},"ISIN",-1),Q={class:"col-12 md:col-4"},W={class:"p-float-label mt-4"},Y=l("label",{for:"wkn"},"WKN",-1),z={class:"col-12 md:col-4"},G={class:"p-float-label mt-4"},J=l("label",{for:"type"},"Type",-1),L={class:"col-12 md:col-4"},O={class:"p-float-label mt-4"},R=l("label",{for:"symbolXfra"},"Symbol Frankfurt",-1),Z={class:"col-12 md:col-4"},ll={class:"p-float-label mt-4"},el=l("label",{for:"symbolXnas"},"Symbol NASDAQ",-1),sl={class:"col-12 md:col-4"},ol={class:"p-float-label mt-4"},al=l("label",{for:"symbolXnys"},"Symbol New York",-1),dl=T({__name:"SecurityDialog",setup(tl,{expose:p}){const c={name:"",isin:"",wkn:"",securityType:"",symbolXfra:"",symbolXnas:"",symbolXnys:""},i=m(!1),e=m({...c}),u=m(null),y=m(null);function V(o){return e.value=o?{...o}:{...c},i.value=!0,new Promise((s,t)=>{u.value=s,y.value=t})}p({show:V});function w(o){return/^[0-9a-f]{32}$/.test(o)?o.slice(0,8)+"-"+o.slice(8,12)+"-"+o.slice(12,16)+"-"+o.slice(16,20)+"-"+o.slice(20):o}async function h(){let o;e.value.uuid?o=await b(`/securities/${w(e.value.uuid)}`,{method:"PATCH",body:e.value}):o=await b("/securities/",{method:"post",body:e.value}),i.value=!1,u.value&&u.value(o)}function X(){i.value=!1,u.value&&u.value(null)}return(o,s)=>{var r;const t=f("InputText"),k=C,U=N,S=f("Dialog");return v(),x(S,{visible:i.value,"onUpdate:visible":s[8]||(s[8]=d=>i.value=d),style:{width:"600px"},modal:!0,header:(r=e.value)!=null&&r.uuid?"Edit security "+e.value.uuid:"Create security"},{footer:_(()=>[n(k,{label:"Cancel",onClick:X}),n(U,{type:"submit",form:"securityForm",label:"Save"})]),default:_(()=>{var d;return[l("form",{id:"securityForm",onSubmit:A(h,["prevent"])},[l("div",I,[l("div",g,[(d=e.value)!=null&&d.uuid?(v(),B("div",$,[n(t,{id:"uuid",modelValue:e.value.uuid,"onUpdate:modelValue":s[0]||(s[0]=a=>e.value.uuid=a),disabled:"",class:"w-20rem"},null,8,["modelValue"]),E])):D("",!0)]),l("div",P,[l("div",j,[n(t,{id:"name",modelValue:e.value.name,"onUpdate:modelValue":s[1]||(s[1]=a=>e.value.name=a),class:"w-full"},null,8,["modelValue"]),q])]),l("div",H,[l("div",K,[n(t,{id:"isin",modelValue:e.value.isin,"onUpdate:modelValue":s[2]||(s[2]=a=>e.value.isin=a),class:"w-full"},null,8,["modelValue"]),M])]),l("div",Q,[l("div",W,[n(t,{id:"wkn",modelValue:e.value.wkn,"onUpdate:modelValue":s[3]||(s[3]=a=>e.value.wkn=a),class:"w-full"},null,8,["modelValue"]),Y])]),l("div",z,[l("div",G,[n(t,{id:"type",modelValue:e.value.securityType,"onUpdate:modelValue":s[4]||(s[4]=a=>e.value.securityType=a),class:"w-full"},null,8,["modelValue"]),J])]),l("div",L,[l("div",O,[n(t,{id:"symbolXfra",modelValue:e.value.symbolXfra,"onUpdate:modelValue":s[5]||(s[5]=a=>e.value.symbolXfra=a),class:"w-full"},null,8,["modelValue"]),R])]),l("div",Z,[l("div",ll,[n(t,{id:"symbolXnas",modelValue:e.value.symbolXnas,"onUpdate:modelValue":s[6]||(s[6]=a=>e.value.symbolXnas=a),class:"w-full"},null,8,["modelValue"]),el])]),l("div",sl,[l("div",ol,[n(t,{id:"symbolXnys",modelValue:e.value.symbolXnys,"onUpdate:modelValue":s[7]||(s[7]=a=>e.value.symbolXnys=a),class:"w-full"},null,8,["modelValue"]),al])])])],40,F)]}),_:1},8,["visible","header"])}}});export{dl as _};
