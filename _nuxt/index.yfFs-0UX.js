import{u as k,r as g,i as L,w as $,R as C,S as N,T as j,c as F,B as q,g as O}from"./entry.R1hDz9of.js";function S(e){return N()?(j(e),!0):!1}function h(e){return typeof e=="function"?e():k(e)}const A=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const R=Object.prototype.toString,W=e=>R.call(e)==="[object Object]",P=()=>{};function U(e){let t;function r(){return t||(t=e()),t}return r.reset=async()=>{const a=t;t=void 0,a&&await a},r}function V(e,t=1e3,r={}){const{immediate:a=!0,immediateCallback:o=!1}=r;let n=null;const u=g(!1);function s(){n&&(clearInterval(n),n=null)}function f(){u.value=!1,s()}function l(){const c=h(t);c<=0||(u.value=!0,o&&e(),s(),n=setInterval(e,c))}if(a&&A&&l(),L(t)||typeof t=="function"){const c=$(t,()=>{u.value&&A&&l()});S(c)}return S(f),{isActive:u,pause:f,resume:l}}function G(e,t,r={}){const{immediate:a=!0}=r,o=g(!1);let n=null;function u(){n&&(clearTimeout(n),n=null)}function s(){o.value=!1,u()}function f(...l){u(),o.value=!0,n=setTimeout(()=>{o.value=!1,n=null,e(...l)},h(t))}return a&&(o.value=!0,A&&f()),S(s),{isPending:C(o),start:f,stop:s}}function B(e){var t;const r=h(e);return(t=r==null?void 0:r.$el)!=null?t:r}const E=A?window:void 0,I=A?window.navigator:void 0;function D(...e){let t,r,a,o;if(typeof e[0]=="string"||Array.isArray(e[0])?([r,a,o]=e,t=E):[t,r,a,o]=e,!t)return P;Array.isArray(r)||(r=[r]),Array.isArray(a)||(a=[a]);const n=[],u=()=>{n.forEach(c=>c()),n.length=0},s=(c,m,d,y)=>(c.addEventListener(m,d,y),()=>c.removeEventListener(m,d,y)),f=$(()=>[B(t),h(o)],([c,m])=>{if(u(),!c)return;const d=W(m)?{...m}:m;n.push(...r.flatMap(y=>a.map(x=>s(c,y,x,d))))},{immediate:!0,flush:"post"}),l=()=>{f(),u()};return S(l),l}function Y(){const e=g(!1),t=O();return t&&q(()=>{e.value=!0},t),e}function M(e){const t=Y();return F(()=>(t.value,!!e()))}function z(e,t={}){const{immediate:r=!0,fpsLimit:a=void 0,window:o=E}=t,n=g(!1),u=a?1e3/a:null;let s=0,f=null;function l(d){if(!n.value||!o)return;s||(s=d);const y=d-s;if(u&&y<u){f=o.requestAnimationFrame(l);return}s=d,e({delta:y,timestamp:d}),f=o.requestAnimationFrame(l)}function c(){!n.value&&o&&(n.value=!0,s=0,f=o.requestAnimationFrame(l))}function m(){n.value=!1,f!=null&&o&&(o.cancelAnimationFrame(f),f=null)}return r&&c(),S(m),{isActive:C(n),pause:m,resume:c}}function T(e,t={}){const{controls:r=!1,navigator:a=I}=t,o=M(()=>a&&"permissions"in a);let n;const u=typeof e=="string"?{name:e}:e,s=g(),f=()=>{n&&(s.value=n.state)},l=U(async()=>{if(o.value){if(!n)try{n=await a.permissions.query(u),D(n,"change",f),f()}catch{s.value="prompt"}return n}});return l(),r?{state:s,isSupported:o,query:l}:s}function ee(e={}){const{navigator:t=I,read:r=!1,source:a,copiedDuring:o=1500,legacy:n=!1}=e,u=M(()=>t&&"clipboard"in t),s=T("clipboard-read"),f=T("clipboard-write"),l=F(()=>u.value||n),c=g(""),m=g(!1),d=G(()=>m.value=!1,o);function y(){u.value&&s.value!=="denied"?t.clipboard.readText().then(i=>{c.value=i}):c.value=p()}l.value&&r&&D(["copy","cut"],y);async function x(i=h(a)){l.value&&i!=null&&(u.value&&f.value!=="denied"?await t.clipboard.writeText(i):b(i),c.value=i,m.value=!0,d.start())}function b(i){const v=document.createElement("textarea");v.value=i??"",v.style.position="absolute",v.style.opacity="0",document.body.appendChild(v),v.select(),document.execCommand("copy"),v.remove()}function p(){var i,v,w;return(w=(v=(i=document==null?void 0:document.getSelection)==null?void 0:i.call(document))==null?void 0:v.toString())!=null?w:""}return{isSupported:l,text:c,copied:m,copy:x}}function H(e={}){const{controls:t=!1,interval:r="requestAnimationFrame"}=e,a=g(new Date),o=()=>a.value=new Date,n=r==="requestAnimationFrame"?z(o,{immediate:!0}):V(o,r,{immediate:!0});return t?{now:a,...n}:a}const J=[{max:6e4,value:1e3,name:"second"},{max:276e4,value:6e4,name:"minute"},{max:72e6,value:36e5,name:"hour"},{max:5184e5,value:864e5,name:"day"},{max:24192e5,value:6048e5,name:"week"},{max:28512e6,value:2592e6,name:"month"},{max:Number.POSITIVE_INFINITY,value:31536e6,name:"year"}],K={justNow:"just now",past:e=>e.match(/\d/)?`${e} ago`:e,future:e=>e.match(/\d/)?`in ${e}`:e,month:(e,t)=>e===1?t?"last month":"next month":`${e} month${e>1?"s":""}`,year:(e,t)=>e===1?t?"last year":"next year":`${e} year${e>1?"s":""}`,day:(e,t)=>e===1?t?"yesterday":"tomorrow":`${e} day${e>1?"s":""}`,week:(e,t)=>e===1?t?"last week":"next week":`${e} week${e>1?"s":""}`,hour:e=>`${e} hour${e>1?"s":""}`,minute:e=>`${e} minute${e>1?"s":""}`,second:e=>`${e} second${e>1?"s":""}`,invalid:""};function Q(e){return e.toISOString().slice(0,10)}function te(e,t={}){const{controls:r=!1,updateInterval:a=3e4}=t,{now:o,...n}=H({interval:a,controls:!0}),u=F(()=>X(new Date(h(e)),t,h(o)));return r?{timeAgo:u,...n}:u}function X(e,t={},r=Date.now()){var a;const{max:o,messages:n=K,fullDateFormatter:u=Q,units:s=J,showSecond:f=!1,rounding:l="round"}=t,c=typeof l=="number"?p=>+p.toFixed(l):Math[l],m=+r-+e,d=Math.abs(m);function y(p,i){return c(Math.abs(p)/i.value)}function x(p,i){const v=y(p,i),w=p>0,_=b(i.name,v,w);return b(w?"past":"future",_,w)}function b(p,i,v){const w=n[p];return typeof w=="function"?w(i,v):w.replace("{0}",i.toString())}if(d<6e4&&!f)return n.justNow;if(typeof o=="number"&&d>o)return u(new Date(e));if(typeof o=="string"){const p=(a=s.find(i=>i.name===o))==null?void 0:a.max;if(p&&d>p)return u(new Date(e))}for(const[p,i]of s.entries()){if(y(m,i)<=0&&s[p-1])return x(m,s[p-1]);if(d<i.max)return x(m,i)}return n.invalid}export{te as a,ee as u};
