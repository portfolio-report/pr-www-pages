import{d as I,i as f,D as G,c as _,Q as le,P as q,j as $,r as N,R as K,o as r,a as c,w as b,S as x,W as X,n as C,p as R,m as A,b as u,k as O,F as P,t as D,X as se,_ as U,Y as ie,Z as ue,v as S,$ as Y,l as ce,a0 as Z,a1 as re,C as de,M as pe,a2 as _e,a3 as me,B as fe,a4 as ve,a5 as ye,s as be}from"./entry.513b7bb4.js";import{_ as M}from"./_plugin-vue_export-helper.a1a6add7.js";const he=I({name:"ClientOnly",props:["fallback","placeholder","placeholderTag","fallbackTag"],setup(e,{slots:t}){const n=f(!1);return G(()=>{n.value=!0}),l=>{var i;if(n.value)return(i=t.default)==null?void 0:i.call(t);const a=t.fallback||t.placeholder;if(a)return a();const o=l.fallback||l.placeholder||"",s=l.fallbackTag||l.placeholderTag||"span";return _(s,null,o)}}}),ge=""+globalThis.__publicAssetsURL("favicon-192.png"),g=e=>(ie("data-v-12331e82"),e=e(),ue(),e),ke={class:"layout-topbar"},we=g(()=>u("img",{class:"mx-2 h-4rem",src:ge,to:"/",alt:"Logo"},null,-1)),Ce=g(()=>u("span",{class:"text-2xl font-medium align-self-center text-color"}," Portfolio Report ",-1)),Ie=g(()=>u("i",{class:"i-carbon-menu"},null,-1)),xe=g(()=>u("i",{class:"i-carbon-overflow-menu-vertical"},null,-1)),Se={class:"layout-topbar-menu hidden lg:flex origin-top"},Oe=["onSubmit"],Me={class:"p-inputgroup"},Te=g(()=>u("i",{class:"i-carbon-settings"},null,-1)),Ae=g(()=>u("span",null,"Settings",-1)),Le=g(()=>u("i",{class:"i-carbon-user-avatar"},null,-1)),$e={key:1},Be=g(()=>u("i",{class:"i-carbon-login"},null,-1)),Ee=g(()=>u("span",null,"Sign in",-1)),Ne=I({__name:"AppTopBar",emits:["menuToggle"],setup(e,{emit:t}){const n=le(),l=q(),a=f(""),o=$(()=>l.loggedIn&&l.isAdmin);function s(){const v=a.value;a.value="",n.push({path:"/search",query:{q:v}})}const i=f(),p=v=>{var y;(y=i.value)==null||y.toggle(v)},d=f([{label:"Log out",items:[{label:"Log out",icon:"i-carbon-logout",command:()=>l.logout()}]}]);return(v,y)=>{const k=U,w=N("Button"),B=N("InputText"),T=he,m=K("styleclass");return r(),_("div",ke,[c(k,{to:"/",class:"layout-topbar-logo"},{default:b(()=>[we,Ce]),_:1}),x(c(w,{class:"p-link layout-menu-button layout-topbar-button",onClick:y[0]||(y[0]=R(h=>t("menuToggle"),["prevent"]))},{default:b(()=>[Ie]),_:1},512),[[X,C(o)]]),x((r(),A(w,{class:"p-link layout-topbar-menu-button layout-topbar-button"},{default:b(()=>[xe]),_:1})),[[m,{selector:"@next",enterClass:"hidden",enterActiveClass:"scalein",leaveToClass:"hidden",leaveActiveClass:"fadeout",hideOnOutsideClick:!0}]]),u("ul",Se,[u("li",null,[v.$route.path!="/search"?(r(),_("form",{key:0,onSubmit:R(s,["prevent"])},[u("div",Me,[c(B,{modelValue:a.value,"onUpdate:modelValue":y[1]||(y[1]=h=>a.value=h),placeholder:"Search"},null,8,["modelValue"]),c(w,{type:"submit",icon:"i-carbon-search i-lg",class:"p-button-secondary"})])],40,Oe)):O("",!0)]),c(T,null,{default:b(()=>[C(o)?(r(),_(P,{key:0},[u("li",null,[c(w,{class:"p-link layout-topbar-button"},{default:b(()=>[Te,Ae]),_:1})]),u("li",null,[c(w,{class:"p-link layout-topbar-button",onClick:p},{default:b(()=>[Le,u("span",null,"User "+D(C(l).username.toUpperCase()),1)]),_:1}),c(C(se),{ref_key:"userMenu",ref:i,model:d.value,popup:!0},null,8,["model"])])],64)):(r(),_("li",$e,[c(k,{to:"/login"},{default:b(()=>[c(w,{class:"p-link layout-topbar-button"},{default:b(()=>[Be,Ee]),_:1})]),_:1})]))]),_:1})])])}}});const Pe=M(Ne,[["__scopeId","data-v-12331e82"]]),De=I({__name:"IconLink",props:{color:null,to:null,href:null,target:null,icon:null,small:{type:Boolean},type:null},emits:["click"],setup(e,{emit:t}){const n=e,l=$(()=>n.icon&&!n.small?n.icon+" i-lg":n.icon);return(a,o)=>{const s=U;return r(),A(s,{to:e.to,href:e.to?void 0:e.href||"#",target:e.target,onClick:o[0]||(o[0]=i=>t("click",i))},{default:b(()=>[u("i",{class:S(["ii",C(l)])},null,2)]),_:1},8,["to","href","target"])}}});const J=M(De,[["__scopeId","data-v-56d57d9c"]]),Qe={key:0,class:"mb-2 text-900 uppercase font-semibold text-sm"},We=I({__name:"AppMenuItem",props:{item:null,active:{type:Boolean},root:{type:Boolean}},emits:["click"],setup(e,{emit:t}){const n=e;function l(a){const o=n.item;if(o.disabled){a.preventDefault();return}!o.to&&!o.url&&a.preventDefault(),n.item.command&&n.item.command({originalEvent:a,item:o}),t("click",a)}return(a,o)=>{const s=U;return r(),_("div",null,[e.root?(r(),_("div",Qe,D(e.item.label),1)):(r(),A(s,{key:1,to:e.item.to||e.item.url,target:e.item.target,class:S([e.item.class,{"p-disabled":e.item.disabled}]),style:Y(e.item.style),exact:"",onClick:l},{default:b(()=>[u("i",{class:S(e.item.icon)},null,2),u("span",null,D(e.item.label),1),e.item.items?(r(),_("i",{key:0,class:S(["ml-auto",{"i-carbon-chevron-down":!e.active,"i-carbon-chevron-up":e.active}])},null,2)):O("",!0)]),_:1},8,["to","target","class","style"]))])}}});const Ue=M(We,[["__scopeId","data-v-ea8c05a9"]]),Re=I({__name:"AppSubMenu",props:{items:null,root:{type:Boolean}},emits:["menuitemClick"],setup(e,{emit:t}){const n=f(null);function l({event:o,item:s,index:i}){n.value=i===n.value?null:i,t("menuitemClick",{event:o,item:s,index:i})}function a(o){return typeof o.visible=="function"?o.visible():o.visible!==!1}return(o,s)=>{const i=Ue,p=N("AppSubMenu",!0);return r(),_("ul",null,[(r(!0),_(P,null,ce(e.items.filter(d=>a(d)),(d,v)=>{var y;return r(),_("li",{key:v,style:Y(d.style),class:S({"x-menuitem-separator":d.separator,"x-menuitem-root":e.root&&!d.separator})},[d.separator?O("",!0):(r(),_(P,{key:0},[c(i,{item:d,root:(y=e.root)!=null?y:!1,active:n.value===v&&!d.to&&!d.disabled,onClick:k=>l({event:k,item:d,index:v})},null,8,["item","root","active","onClick"]),c(Z,{name:"layout-submenu-wrapper"},{default:b(()=>[d.items?x((r(),A(p,{key:0,items:d.items,onMenuitemClick:s[0]||(s[0]=k=>t("menuitemClick",k))},null,8,["items"])),[[X,e.root||n.value===v]]):O("",!0)]),_:2},1024)],64))],6)}),128))])}}});const Fe=M(Re,[["__scopeId","data-v-78a26351"]]),Ve={class:"layout-menu-container"},je=I({__name:"AppMenu",props:{layout:null,isDesktop:{type:Boolean}},emits:["menuitemClick","update:layout"],setup(e,{emit:t}){const n=e;function l(){n.layout==="static"?t("update:layout","overlay"):t("update:layout","static")}const a=[{label:"Public",items:[{label:"Search",icon:"i-carbon-search",to:"/search"},{label:"Statistics",icon:"i-carbon-analytics",to:"/stats"}]},{label:"Admin",items:[{label:"Securities",icon:"i-carbon-currency-dollar",to:"/admin/securities"},{label:"Taxonomies",icon:"i-carbon-tree-view",to:"/admin/taxonomies"},{label:"Statistics",icon:"i-carbon-analytics-custom",to:"/admin/stats"}]}];return(o,s)=>{const i=J,p=Fe;return r(),_("div",Ve,[e.isDesktop?(r(),A(i,{key:0,small:"",class:"absolute right-0 mr-4",icon:e.layout==="static"?"i-carbon-pin-filled":"i-carbon-pin",onClick:l},null,8,["icon"])):O("",!0),c(p,{items:a,root:!0,onMenuitemClick:s[0]||(s[0]=d=>t("menuitemClick",d))})])}}}),He={class:"flex justify-content-center"},ze=I({__name:"AppFooter",setup(e){const t=re(),n=$(()=>t.public.gitSha?"https://github.com/portfolio-report/pr-www/tree/"+t.public.gitSha:"https://www.github.com/portfolio-report/pr-www");return(l,a)=>{const o=J,s=K("tooltip");return r(),_("footer",He,[x(c(o,{href:"https://forum.portfolio-performance.info/",icon:"i-carbon-forum"},null,512),[[s,"Get help and discuss",void 0,{top:!0}]]),x(c(o,{to:"/contact",icon:"i-carbon-email"},null,512),[[s,"Get in contact",void 0,{top:!0}]]),x(c(o,{href:C(n),target:"_blank",icon:"i-carbon-logo-github"},null,8,["href"]),[[s,"Source code",void 0,{top:!0}]])])}}});const Ge=M(ze,[["__scopeId","data-v-df6a6681"]]);var F;const L=typeof window<"u",qe=e=>typeof e=="string",E=()=>{};L&&((F=window==null?void 0:window.navigator)==null?void 0:F.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent);function Ke(e){return typeof e=="function"?e():C(e)}function Xe(e){return e}function Ye(e){return _e()?(me(e),!0):!1}function Ze(e,t=!0){de()?G(e):t?e():pe(e)}function Je(e){var t;const n=Ke(e);return(t=n==null?void 0:n.$el)!=null?t:n}const ee=L?window:void 0;L&&window.document;L&&window.navigator;L&&window.location;function V(...e){let t,n,l,a;if(qe(e[0])?([n,l,a]=e,t=ee):[t,n,l,a]=e,!t)return E;let o=E;const s=fe(()=>Je(t),p=>{o(),p&&(p.addEventListener(n,l,a),o=()=>{p.removeEventListener(n,l,a),o=E})},{immediate:!0,flush:"post"}),i=()=>{s(),o()};return Ye(i),i}const Q=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},W="__vueuse_ssr_handlers__";Q[W]=Q[W]||{};Q[W];var j;(function(e){e.UP="UP",e.RIGHT="RIGHT",e.DOWN="DOWN",e.LEFT="LEFT",e.NONE="NONE"})(j||(j={}));var et=Object.defineProperty,H=Object.getOwnPropertySymbols,tt=Object.prototype.hasOwnProperty,nt=Object.prototype.propertyIsEnumerable,z=(e,t,n)=>t in e?et(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ot=(e,t)=>{for(var n in t||(t={}))tt.call(t,n)&&z(e,n,t[n]);if(H)for(var n of H(t))nt.call(t,n)&&z(e,n,t[n]);return e};const at={easeInSine:[.12,0,.39,0],easeOutSine:[.61,1,.88,1],easeInOutSine:[.37,0,.63,1],easeInQuad:[.11,0,.5,0],easeOutQuad:[.5,1,.89,1],easeInOutQuad:[.45,0,.55,1],easeInCubic:[.32,0,.67,0],easeOutCubic:[.33,1,.68,1],easeInOutCubic:[.65,0,.35,1],easeInQuart:[.5,0,.75,0],easeOutQuart:[.25,1,.5,1],easeInOutQuart:[.76,0,.24,1],easeInQuint:[.64,0,.78,0],easeOutQuint:[.22,1,.36,1],easeInOutQuint:[.83,0,.17,1],easeInExpo:[.7,0,.84,0],easeOutExpo:[.16,1,.3,1],easeInOutExpo:[.87,0,.13,1],easeInCirc:[.55,0,1,.45],easeOutCirc:[0,.55,.45,1],easeInOutCirc:[.85,0,.15,1],easeInBack:[.36,0,.66,-.56],easeOutBack:[.34,1.56,.64,1],easeInOutBack:[.68,-.6,.32,1.6]};ot({linear:Xe},at);function lt(e={}){const{window:t=ee,initialWidth:n=1/0,initialHeight:l=1/0,listenOrientation:a=!0,includeScrollbar:o=!0}=e,s=f(n),i=f(l),p=()=>{t&&(o?(s.value=t.innerWidth,i.value=t.innerHeight):(s.value=t.document.documentElement.clientWidth,i.value=t.document.documentElement.clientHeight))};return p(),Ze(p),V("resize",p,{passive:!0}),a&&V("orientationchange",p,{passive:!0}),{width:s,height:i}}const st={class:"layout-main-container"},it={class:"layout-main"},ut={key:0,class:"layout-mask p-component-overlay"},ct=I({__name:"default",setup(e){const t=f("static"),n=f(!1),l=f(!1),a=f(!1),o=f(),s=q(),{width:i}=lt(),p=$(()=>i.value>=992);function d(){o.value=!0,p.value?t.value==="overlay"?(a.value===!0&&(l.value=!0),l.value=!l.value,a.value=!1):t.value==="static"&&(n.value=!n.value):a.value=!a.value}function v(){o.value=!0}function y(m){m.item.items||(l.value=!1,a.value=!1)}function k(){o.value||(l.value=!1,a.value=!1),o.value=!1}function w(m,h){m.classList?m.classList.add(h):m.className+=" "+h}function B(m,h){m.classList?m.classList.remove(h):m.className=m.className.replace(new RegExp("(^|\\b)"+h.split(" ").join("|")+"(\\b|$)","gi")," ")}ve(()=>{a.value?w(document.body,"overflow-hidden"):B(document.body,"overflow-hidden")});const T=f(["layout-wrapper","layout-overlay"]);return ye(()=>{s.loggedIn?T.value=["layout-wrapper",{"layout-overlay":t.value==="overlay","layout-static":t.value==="static","layout-static-sidebar-inactive":n.value&&t.value==="static","layout-overlay-sidebar-active":l.value&&t.value==="overlay","layout-mobile-sidebar-active":a.value}]:T.value=["layout-wrapper","layout-overlay"]},{flush:"post"}),(m,h)=>{const te=Pe,ne=je,oe=Ge;return r(),_("div",{class:S(T.value),onClick:k},[c(te,{onMenuToggle:d}),u("div",{class:"layout-sidebar",onClick:v},[c(ne,{layout:t.value,"onUpdate:layout":h[0]||(h[0]=ae=>t.value=ae),"is-desktop":C(p),onMenuitemClick:y},null,8,["layout","is-desktop"])]),u("div",st,[u("div",it,[be(m.$slots,"default",{},void 0,!0)]),c(oe)]),c(Z,{name:"layout-mask"},{default:b(()=>[a.value?(r(),_("div",ut)):O("",!0)]),_:1})],2)}}});const pt=M(ct,[["__scopeId","data-v-a92fd342"]]);export{pt as default};
