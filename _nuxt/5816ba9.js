(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{484:function(e,t,r){"use strict";var n=r(17),o=Object(n.b)({name:"SelectSecurityType",props:{value:{type:String,default:""}},setup:function(e,t){var r=t.emit;return{securityTypeItems:[{text:"*",value:""},{text:"share",value:"share"},{text:"fund",value:"fund"},{text:"bond",value:"bond"},{text:"index",value:"index"}],update:function(e){r("input",e)}}}}),l=r(61),c=r(73),v=r.n(c),d=r(513),component=Object(l.a)(o,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("v-select",{attrs:{value:e.value,items:e.securityTypeItems,label:"Security Type",dense:"",outlined:""},on:{input:e.update}})],1)}),[],!1,null,null,null);t.a=component.exports;v()(component,{VSelect:d.a})},485:function(e,t,r){"use strict";var n=r(17),o=Object(n.b)({name:"SecurityTag",props:{name:{type:String,default:function(){return""}}}}),l=r(61),c=r(73),v=r.n(c),d=r(488),component=Object(l.a)(o,(function(){var e=this,t=e.$createElement;return(e._self._c||t)("v-chip",{attrs:{small:"",color:"secondary","text-color":"white"}},[e._v("\n  "+e._s(e.name)+"\n")])}),[],!1,null,null,null);t.a=component.exports;v()(component,{VChip:d.a})},659:function(e,t,r){"use strict";r.r(t);var n=r(34),o=r(22),l=(r(88),r(8),r(7),r(39),r(36),r(18),r(33),r(260),r(45),r(17)),c=r(57),v=r(484),d=r(485),h=Object(l.b)({name:"SearchPage",components:{SelectSecurityType:v.a,SecurityTag:d.a},setup:function(){var e=Object(l.o)(),t=Object(l.p)(),r=Object(l.l)().$axios,v=Object(l.h)(null),d=Object(l.h)(""),h=Object(l.h)(""),m=Object(l.h)([]),f=Object(l.h)(!1),y=Object(l.h)(!1),_=Object(l.h)(!1),x=Object(l.h)("");function S(){return T.apply(this,arguments)}function T(){return(T=Object(o.a)(regeneratorRuntime.mark((function n(){var o,l,c;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return y.value=!0,f.value=!1,_.value=!1,o={q:d.value},h.value&&(o.securityType=h.value),t.push({path:e.value.path,query:o}),n.prev=6,l={},h.value&&(l.securityType=h.value),n.next=11,r.$get("/securities/search/".concat(encodeURIComponent(d.value.trim())),{params:l});case 11:c=n.sent,y.value=!1,m.value=c,f.value=0===c.length,n.next=24;break;case 17:n.prev=17,n.t0=n.catch(6),y.value=!1,m.value=[],f.value=!1,_.value=!0,x.value=String(n.t0);case 24:case"end":return n.stop()}}),n,null,[[6,17]])})))).apply(this,arguments)}return Object(l.e)((function(){var t,q=e.value.query.q;q?(d.value=q,h.value=e.value.query.securityType||"",S()):null===(t=v.value)||void 0===t||t.focus()})),{icons:c.a,search:S,searchTerm:d,searchTermInput:v,searchFormValid:!1,searchRules:[function(e){return!!e||"Required"}],securityType:h,searching:y,noResults:f,error:_,errorText:x,results:m,getPricesAvailable:function(e){return e.markets.some((function(e){return e.firstPriceDate&&e.lastPriceDate}))},getUniqueSymbols:function(e){var t;return Array.from(new Set([e.symbolXfra,e.symbolXnas,e.symbolXnys].concat(Object(n.a)(null===(t=e.markets)||void 0===t?void 0:t.map((function(e){return e.symbol})))))).filter((function(s){return!!s}))}}},head:function(){return{title:"Portfolio Report Search"}}}),m=r(61),f=r(73),y=r.n(f),_=r(434),x=r(125),S=r(193),T=r(53),j=r(488),O=r(422),V=r(424),k=r(102),w=r(31),C=r(4),R=r(6),A=Object(C.a)(k.a,w.a).extend({name:"v-hover",props:{disabled:{type:Boolean,default:!1},value:{type:Boolean,default:void 0}},methods:{onMouseEnter:function(){this.runDelay("open")},onMouseLeave:function(){this.runDelay("close")}},render:function(){return this.$scopedSlots.default||void 0!==this.value?(this.$scopedSlots.default&&(element=this.$scopedSlots.default({hover:this.isActive})),Array.isArray(element)&&1===element.length&&(element=element[0]),element&&!Array.isArray(element)&&element.tag?(this.disabled||(element.data=element.data||{},this._g(element.data,{mouseenter:this.onMouseEnter,mouseleave:this.onMouseLeave})),element):(Object(R.c)("v-hover should only contain a single element",this),element)):(Object(R.c)("v-hover is missing a default scopedSlot or bound value",this),null);var element}}),I=r(192),P=r(425),$=r(411),D=r(432),component=Object(m.a)(h,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-row",{attrs:{align:"center",justify:"center"}},[r("v-col",{attrs:{cols:"12",sm:"8",md:"6"}},[r("v-card",[r("v-card-title",{staticClass:"headline"},[e._v("Security search")]),e._v(" "),r("v-form",{on:{submit:function(t){return t.preventDefault(),e.search(t)}},model:{value:e.searchFormValid,callback:function(t){e.searchFormValid=t},expression:"searchFormValid"}},[r("v-card-text",[r("v-text-field",{ref:"searchTermInput",attrs:{rules:e.searchRules,label:"ISIN/WKN/Symbol/Name",clearable:"",outlined:"",dense:""},model:{value:e.searchTerm,callback:function(t){e.searchTerm=t},expression:"searchTerm"}}),e._v(" "),r("select-security-type",{model:{value:e.securityType,callback:function(t){e.securityType=t},expression:"securityType"}}),e._v(" "),r("v-btn",{attrs:{type:"submit",color:"primary",loading:e.searching,disabled:!e.searchFormValid||e.searching,block:""}},[e._v("\n            Search\n          ")]),e._v(" "),r("v-alert",{attrs:{type:"info",outlined:""},model:{value:e.noResults,callback:function(t){e.noResults=t},expression:"noResults"}},[e._v("\n            Sorry, no results were found.\n          ")]),e._v(" "),r("v-alert",{attrs:{type:"error",outlined:""},model:{value:e.error,callback:function(t){e.error=t},expression:"error"}},[e._v("\n            Sorry, there was an error:"),r("br"),e._v(e._s(e.errorText)+"\n          ")])],1)],1)],1),e._v(" "),e.results.length>0?r("v-card",{staticClass:"mt-4"},[r("v-card-title",[e._v("Results")]),e._v(" "),r("v-card-text",e._l(e.results,(function(t){return r("div",{key:t.uuid,staticClass:"mb-3"},[r("div",[e.getPricesAvailable(t)?r("v-tooltip",{attrs:{left:""},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on;return[r("v-icon",e._g({},n),[e._v(e._s(e.icons.mdiChartLine))])]}}],null,!0)},[e._v(" "),r("span",[e._v("Prices available")])]):e._e(),e._v(" "),r("v-hover",{scopedSlots:e._u([{key:"default",fn:function(n){var o=n.hover;return[r("span",[r("nuxt-link",{attrs:{to:"/securities/"+t.uuid}},[r("span",{staticClass:"subtitle-1"},[e._v(e._s(t.name))])]),e._v(" "),r("v-chip",{attrs:{small:"",color:"primary","text-color":"white"}},[e._v("\n                  "+e._s(t.securityType)+"\n                ")]),e._v(" "),e._l(t.tags,(function(e){return r("SecurityTag",{key:e,attrs:{name:e}})})),e._v(" "),o?r("span",[r("v-icon",[e._v(e._s(e.icons.mdiDragVariant))]),e._v(" Drag me to\n                  Portfolio Performance!\n                ")],1):e._e()],2)]}}],null,!0)})],1),e._v("\n          ISIN: "),r("b",[e._v(e._s(t.isin))]),e._v(" | WKN: "),r("b",[e._v(e._s(t.wkn))]),e._v(" |\n          Symbol(s):\n          "),e._l(e.getUniqueSymbols(t),(function(symbol,t){return r("span",{key:t},[0!=t?r("span",[e._v(", ")]):e._e(),e._v(" "),r("span",[r("b",[e._v(e._s(symbol))])])])}))],2)})),0)],1):e._e(),e._v(" "),r("v-card",{staticClass:"mt-4"},[r("v-card-title",[e._v("Your contribution is needed ðŸ’ª")]),e._v(" "),r("v-card-text",[e._v("\n        Your help is needed to keep this website up and running. Have you\n        thought about contributing? You could:\n        "),r("ul",[r("li",[e._v("\n            Actively maintain and develop the\n            "),r("a",{attrs:{href:"https://www.github.com/portfolio-report"}},[e._v("source code on Github")]),e._v(".\n          ")]),e._v(" "),r("li",[e._v("\n            Become member of the\n            "),r("a",{attrs:{href:"https://forum.portfolio-performance.info"}},[e._v("forum")]),e._v(" and\n            help other users.\n          ")]),e._v(" "),r("li",[e._v("\n            Cover monthly costs for server operation and licence fees. Become\n            sponsor on\n            "),r("a",{attrs:{href:"https://github.com/sponsors/tfabritius"}},[e._v("Github")]),e._v(".\n          ")])])])],1)],1)],1)}),[],!1,null,null,null);t.default=component.exports;y()(component,{VAlert:_.a,VBtn:x.a,VCard:S.a,VCardText:T.c,VCardTitle:T.d,VChip:j.a,VCol:O.a,VForm:V.a,VHover:A,VIcon:I.a,VRow:P.a,VTextField:$.a,VTooltip:D.a})}}]);