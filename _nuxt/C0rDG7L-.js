import h from"./CN2rsS_R.js";import v from"./DO6_4gyG.js";import C from"./D0PehSlR.js";import g from"./C1bxWwnv.js";import{h as D,F as B,R as $,S as x,c as w,l as S,x as A,J as R,T,m as e,q as s,t as V,u as l}from"./CcHjzWyb.js";import{u as k}from"./C1muOPc8.js";import{u as F}from"./3qbxpUeT.js";import{s as E}from"./VJp7hroN.js";import"./D1QCnnJm.js";import"./BORh5FNB.js";import"./7IJ0_7TM.js";import"./BeonbMtG.js";import"./CEiL8Dpx.js";import"./DeAaQoE8.js";import"./B6qsKlP3.js";import"./B_5D8qyK.js";import"./C0TVyiv_.js";import"./DXkWPFtA.js";import"./IpZU0Ury.js";import"./Clu8Mk0d.js";import"./D9EMdQXv.js";import"./BiqbHso2.js";import"./CL1PH7mb.js";import"./D-UZx1gR.js";import"./BGgWNuUP.js";import"./CfgI8MOm.js";import"./BhMnJ8ts.js";import"./BM27bin3.js";import"./CpHX2mkW.js";import"./D2Shj6Db.js";const ct=D({__name:"[version]",async setup(N){var c;let i,m;const u=B(),{data:o,error:f}=([i,m]=$(()=>k(`stats:${u.params.version}`,()=>F(`/stats/updates/${u.params.version}`))),i=await i,m(),i);if(f.value||((c=o.value)==null?void 0:c.byCountry)==null||o.value.byDate==null)throw x({statusCode:404});const _={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1}}},y=w(()=>{var p;if(!((p=o.value)!=null&&p.byCountry))return{labels:[],datasets:[]};const a=[...o.value.byDate].sort((t,n)=>t.date.localeCompare(n.date));return{labels:a.map(t=>t.date),datasets:[{backgroundColor:"#3B82F6",borderColor:"#3B82F6",fill:!1,data:a.map(t=>t.count)}]}});return(a,p)=>{const t=h,n=v,d=C,b=g;return V(),S("div",null,[A("h2",null,"Version Statistics for "+R((a._.provides[T]||a.$route).params.version),1),e(b,null,{default:s(()=>[e(d,{header:"By date"},{default:s(()=>{var r;return[e(l(E),{type:"line",data:l(y),options:_,style:{height:"400px"}},null,8,["data"]),e(n,{value:(r=l(o))==null?void 0:r.byDate,"sort-field":"date","sort-order":-1,class:"p-datatable-sm font-mono"},{default:s(()=>[e(t,{field:"date",header:"Date",sortable:!0}),e(t,{field:"count",header:"Count",sortable:!0,class:"text-right"})]),_:1},8,["value"])]}),_:1}),e(d,{header:"By country"},{default:s(()=>{var r;return[e(n,{value:(r=l(o))==null?void 0:r.byCountry,"sort-field":"count","sort-order":-1,class:"p-datatable-sm font-mono"},{default:s(()=>[e(t,{field:"country",header:"Country",sortable:!0}),e(t,{field:"count",header:"Count",sortable:!0,class:"text-right"})]),_:1},8,["value"])]}),_:1})]),_:1})])}}});export{ct as default};
