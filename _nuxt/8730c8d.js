(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{666:function(e,t,n){"use strict";n.r(t);n(35),n(18),n(7),n(39),n(36),n(33),n(9),n(10),n(11);var r=n(1),o=n(22),c=(n(8),n(24),n(88),n(17)),l=n(205),v=n(55);function d(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function m(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?d(Object(source),!0).forEach((function(t){Object(r.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):d(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}function f(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return y(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,c=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return c=e.done,e},e:function(e){l=!0,o=e},f:function(){try{c||null==n.return||n.return()}finally{if(l)throw o}}}}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}var x=Object(c.b)({name:"TaxonomyPage",middleware:"auth",setup:function(){var e=Object(c.l)(),t=e.$axios,n=e.error,r=e.params,d=Object(l.b)(),y=Object(c.h)("tree"),x=Object(c.h)(!1),T=Object(c.h)({name:"",code:""}),_=Object(c.k)(Object(o.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$get("/taxonomies/".concat(r.value.uuid));case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),n({statusCode:404,message:"This page could not be found"});case 9:case"end":return e.stop()}}),e,null,[[0,6]])}))),"rZkwKsqo/Uy8iI7wTqpRow=="),h=Object(c.a)((function(){return _.value?_.value:{uuid:"",name:"",descendants:[]}})),w=Object(c.a)((function(){return h.value.uuid?O(h.value.uuid):[]}));function O(e){var t,n,r,o=[],c=null===(t=h.value)||void 0===t?void 0:t.descendants.filter((function(t){return t.parentUuid===e})),l=f(null!=c?c:[]);try{for(l.s();!(r=l.n()).done;){var v=r.value;o.push(m(m({},v),{},{children:O(null!==(n=v.uuid)&&void 0!==n?n:"")}))}}catch(e){l.e(e)}finally{l.f()}return o}function k(){return j.apply(this,arguments)}function j(){return(j=Object(o.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$get("/taxonomies/".concat(r.value.uuid));case 2:_.value=e.sent;case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function V(){return(V=Object(o.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!T.value.uuid){e.next=5;break}return e.next=3,t.$put("/taxonomies/".concat(T.value.uuid),T.value);case 3:e.next=7;break;case 5:return e.next=7,t.$post("/taxonomies/",T.value);case 7:k(),x.value=!1;case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function D(){return(D=Object(o.a)(regeneratorRuntime.mark((function e(n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d('Are you sure you want to delete "'.concat(n.name,'"?'),{});case 2:if(!e.sent){e.next=7;break}return e.next=6,t.$delete("/taxonomies/".concat(n.uuid));case 6:k();case 7:x.value=!1;case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return{root:h,tab:y,taxonomyDialog:x,selectedTaxonomy:T,taxonomiesTree:w,newTaxonomy:function(){T.value={name:"",code:""},x.value=!0},editTaxonomy:function(e){T.value=m({},e),x.value=!0},saveTaxonomy:function(){return V.apply(this,arguments)},deleteTaxonomy:function(e){return D.apply(this,arguments)},icons:v.a}},head:function(){return{title:"Portfolio Report Admin"}}}),T=n(61),_=n(73),h=n.n(_),w=n(125),O=n(193),k=n(53),j=n(422),V=n(657),D=n(423),P=n(424),S=n(192),C=n(425),R=n(516),$=n(426),U=n(655),A=n(670),I=n(668),E=n(650),F=n(411),J=n(52),N=n(111),B=n(669),component=Object(T.a)(x,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-row",{attrs:{align:"center",justify:"center"}},[n("v-col",{attrs:{cols:"12"}},[n("v-toolbar",{attrs:{color:"primary",dark:""}},[n("v-toolbar-title",[e._v("Taxonomy: "+e._s(e.root.name))]),e._v(" "),n("v-spacer"),e._v(" "),n("v-btn",{attrs:{icon:""},on:{click:e.newTaxonomy}},[n("v-icon",[e._v(e._s(e.icons.mdiPlus))])],1)],1),e._v(" "),n("v-tabs",{attrs:{grow:""},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[n("v-tab",{key:"tree"},[e._v(" Tree ")]),e._v(" "),n("v-tab",{key:"list"},[e._v(" List ")])],1),e._v(" "),n("v-tabs-items",{model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[n("v-tab-item",{key:"tree"},[n("v-treeview",{attrs:{items:e.taxonomiesTree,hoverable:"","open-on-click":""},scopedSlots:e._u([{key:"prepend",fn:function(t){return[n("v-icon",[e._v(e._s(e.icons.mdiFamilyTree))])]}},{key:"label",fn:function(t){var r=t.item;return[e._v("\n            "+e._s(r.name)+"\n            "),n("v-btn",{attrs:{color:"primary",icon:"",text:""},on:{click:function(t){return e.editTaxonomy(r)}}},[n("v-icon",[e._v(e._s(e.icons.mdiPencil))])],1)]}}])})],1),e._v(" "),n("v-tab-item",{key:"list"},[n("v-data-table",{attrs:{items:e.root.descendants,"items-per-page":-1,headers:[{text:"Name",value:"name"},{text:"Code",value:"code"},{text:"UUID",value:"uuid"},{text:"parentUuid",value:"parentUuid"},{value:"actions"}],"hide-default-footer":""},scopedSlots:e._u([{key:"item.actions",fn:function(t){var r=t.item;return[n("v-btn",{attrs:{color:"primary",icon:"",text:""},on:{click:function(t){return e.editTaxonomy(r)}}},[n("v-icon",[e._v(e._s(e.icons.mdiPencil))])],1)]}}])})],1)],1),e._v(" "),n("v-dialog",{attrs:{width:"500"},model:{value:e.taxonomyDialog,callback:function(t){e.taxonomyDialog=t},expression:"taxonomyDialog"}},[n("v-form",{ref:"form",on:{submit:function(t){return t.preventDefault(),e.saveTaxonomy(t)}}},[n("v-card",[n("v-card-text",[n("v-text-field",{attrs:{label:"Name",outlined:"",dense:""},model:{value:e.selectedTaxonomy.name,callback:function(t){e.$set(e.selectedTaxonomy,"name",t)},expression:"selectedTaxonomy.name"}}),e._v(" "),n("v-text-field",{attrs:{label:"Code",outlined:"",dense:""},model:{value:e.selectedTaxonomy.code,callback:function(t){e.$set(e.selectedTaxonomy,"code",t)},expression:"selectedTaxonomy.code"}}),e._v(" "),n("v-select",{attrs:{label:"Parent",outlined:"",dense:"","item-text":"name","item-value":"uuid",items:[e.root].concat(e.root.descendants)},model:{value:e.selectedTaxonomy.parentUuid,callback:function(t){e.$set(e.selectedTaxonomy,"parentUuid",t)},expression:"selectedTaxonomy.parentUuid"}})],1),e._v(" "),n("v-card-actions",[e.selectedTaxonomy.uuid?n("v-btn",{attrs:{color:"error",text:""},on:{click:function(t){return e.deleteTaxonomy(e.selectedTaxonomy)}}},[n("v-icon",[e._v(e._s(e.icons.mdiDelete))]),e._v(" Delete\n            ")],1):e._e(),e._v(" "),n("v-spacer"),e._v(" "),n("v-btn",{attrs:{color:"primary",text:""},on:{click:function(t){e.taxonomyDialog=!1}}},[n("v-icon",[e._v(e._s(e.icons.mdiClose))]),e._v(" Cancel\n            ")],1),e._v(" "),n("v-btn",{attrs:{type:"submit",color:"primary",text:""}},[n("v-icon",[e._v(e._s(e.icons.mdiCheck))]),e._v(" Save\n            ")],1)],1)],1)],1)],1)],1)],1)}),[],!1,null,null,null);t.default=component.exports;h()(component,{VBtn:w.a,VCard:O.a,VCardActions:k.a,VCardText:k.c,VCol:j.a,VDataTable:V.a,VDialog:D.a,VForm:P.a,VIcon:S.a,VRow:C.a,VSelect:R.a,VSpacer:$.a,VTab:U.a,VTabItem:A.a,VTabs:I.a,VTabsItems:E.a,VTextField:F.a,VToolbar:J.a,VToolbarTitle:N.a,VTreeview:B.a})}}]);