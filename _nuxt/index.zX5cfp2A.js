import{u as k,r as g,i as L,w as $,R as C,S as N,T as j,c as F,g as q,B as O}from"./entry.2Fo-JOeI.js";function S(e){return N()?(j(e),!0):!1}function h(e){return typeof e=="function"?e():k(e)}const A=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const R=Object.prototype.toString,W=e=>R.call(e)==="[object Object]",P=()=>{};function U(e){let t;function r(){return t||(t=e()),t}return r.reset=async()=>{const a=t;t=void 0,a&&await a},r}function V(e,t=1e3,r={}){const{immediate:a=!0,immediateCallback:o=!1}=r;let n=null;const i=g(!1);function c(){n&&(clearInterval(n),n=null)}function f(){i.value=!1,c()}function s(){const l=h(t);l<=0||(i.value=!0,o&&e(),c(),n=setInterval(e,l))}if(a&&A&&s(),L(t)||typeof t=="function"){const l=$(t,()=>{i.value&&A&&s()});S(l)}return S(f),{isActive:i,pause:f,resume:s}}function G(e,t,r={}){const{immediate:a=!0}=r,o=g(!1);let n=null;function i(){n&&(clearTimeout(n),n=null)}function c(){o.value=!1,i()}function f(...s){i(),o.value=!0,n=setTimeout(()=>{o.value=!1,n=null,e(...s)},h(t))}return a&&(o.value=!0,A&&f()),S(c),{isPending:C(o),start:f,stop:c}}function B(e){var t;const r=h(e);return(t=r==null?void 0:r.$el)!=null?t:r}const E=A?window:void 0,I=A?window.navigator:void 0;function D(...e){let t,r,a,o;if(typeof e[0]=="string"||Array.isArray(e[0])?([r,a,o]=e,t=E):[t,r,a,o]=e,!t)return P;Array.isArray(r)||(r=[r]),Array.isArray(a)||(a=[a]);const n=[],i=()=>{n.forEach(l=>l()),n.length=0},c=(l,m,d,y)=>(l.addEventListener(m,d,y),()=>l.removeEventListener(m,d,y)),f=$(()=>[B(t),h(o)],([l,m])=>{if(i(),!l)return;const d=W(m)?{...m}:m;n.push(...r.flatMap(y=>a.map(x=>c(l,y,x,d))))},{immediate:!0,flush:"post"}),s=()=>{f(),i()};return S(s),s}function Y(){const e=g(!1);return q()&&O(()=>{e.value=!0}),e}function M(e){const t=Y();return F(()=>(t.value,!!e()))}function z(e,t={}){const{immediate:r=!0,fpsLimit:a=void 0,window:o=E}=t,n=g(!1),i=a?1e3/a:null;let c=0,f=null;function s(d){if(!n.value||!o)return;const y=d-(c||d);if(i&&y<i){f=o.requestAnimationFrame(s);return}e({delta:y,timestamp:d}),c=d,f=o.requestAnimationFrame(s)}function l(){!n.value&&o&&(n.value=!0,f=o.requestAnimationFrame(s))}function m(){n.value=!1,f!=null&&o&&(o.cancelAnimationFrame(f),f=null)}return r&&l(),S(m),{isActive:C(n),pause:m,resume:l}}function T(e,t={}){const{controls:r=!1,navigator:a=I}=t,o=M(()=>a&&"permissions"in a);let n;const i=typeof e=="string"?{name:e}:e,c=g(),f=()=>{n&&(c.value=n.state)},s=U(async()=>{if(o.value){if(!n)try{n=await a.permissions.query(i),D(n,"change",f),f()}catch{c.value="prompt"}return n}});return s(),r?{state:c,isSupported:o,query:s}:c}function ee(e={}){const{navigator:t=I,read:r=!1,source:a,copiedDuring:o=1500,legacy:n=!1}=e,i=M(()=>t&&"clipboard"in t),c=T("clipboard-read"),f=T("clipboard-write"),s=F(()=>i.value||n),l=g(""),m=g(!1),d=G(()=>m.value=!1,o);function y(){i.value&&c.value!=="denied"?t.clipboard.readText().then(u=>{l.value=u}):l.value=p()}s.value&&r&&D(["copy","cut"],y);async function x(u=h(a)){s.value&&u!=null&&(i.value&&f.value!=="denied"?await t.clipboard.writeText(u):b(u),l.value=u,m.value=!0,d.start())}function b(u){const v=document.createElement("textarea");v.value=u??"",v.style.position="absolute",v.style.opacity="0",document.body.appendChild(v),v.select(),document.execCommand("copy"),v.remove()}function p(){var u,v,w;return(w=(v=(u=document==null?void 0:document.getSelection)==null?void 0:u.call(document))==null?void 0:v.toString())!=null?w:""}return{isSupported:s,text:l,copied:m,copy:x}}function H(e={}){const{controls:t=!1,interval:r="requestAnimationFrame"}=e,a=g(new Date),o=()=>a.value=new Date,n=r==="requestAnimationFrame"?z(o,{immediate:!0}):V(o,r,{immediate:!0});return t?{now:a,...n}:a}const J=[{max:6e4,value:1e3,name:"second"},{max:276e4,value:6e4,name:"minute"},{max:72e6,value:36e5,name:"hour"},{max:5184e5,value:864e5,name:"day"},{max:24192e5,value:6048e5,name:"week"},{max:28512e6,value:2592e6,name:"month"},{max:Number.POSITIVE_INFINITY,value:31536e6,name:"year"}],K={justNow:"just now",past:e=>e.match(/\d/)?`${e} ago`:e,future:e=>e.match(/\d/)?`in ${e}`:e,month:(e,t)=>e===1?t?"last month":"next month":`${e} month${e>1?"s":""}`,year:(e,t)=>e===1?t?"last year":"next year":`${e} year${e>1?"s":""}`,day:(e,t)=>e===1?t?"yesterday":"tomorrow":`${e} day${e>1?"s":""}`,week:(e,t)=>e===1?t?"last week":"next week":`${e} week${e>1?"s":""}`,hour:e=>`${e} hour${e>1?"s":""}`,minute:e=>`${e} minute${e>1?"s":""}`,second:e=>`${e} second${e>1?"s":""}`,invalid:""};function Q(e){return e.toISOString().slice(0,10)}function te(e,t={}){const{controls:r=!1,updateInterval:a=3e4}=t,{now:o,...n}=H({interval:a,controls:!0}),i=F(()=>X(new Date(h(e)),t,h(o)));return r?{timeAgo:i,...n}:i}function X(e,t={},r=Date.now()){var a;const{max:o,messages:n=K,fullDateFormatter:i=Q,units:c=J,showSecond:f=!1,rounding:s="round"}=t,l=typeof s=="number"?p=>+p.toFixed(s):Math[s],m=+r-+e,d=Math.abs(m);function y(p,u){return l(Math.abs(p)/u.value)}function x(p,u){const v=y(p,u),w=p>0,_=b(u.name,v,w);return b(w?"past":"future",_,w)}function b(p,u,v){const w=n[p];return typeof w=="function"?w(u,v):w.replace("{0}",u.toString())}if(d<6e4&&!f)return n.justNow;if(typeof o=="number"&&d>o)return i(new Date(e));if(typeof o=="string"){const p=(a=c.find(u=>u.name===o))==null?void 0:a.max;if(p&&d>p)return i(new Date(e))}for(const[p,u]of c.entries()){if(y(m,u)<=0&&c[p-1])return x(m,c[p-1]);if(d<u.max)return x(m,u)}return n.invalid}export{te as a,ee as u};
