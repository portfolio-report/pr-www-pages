import{W as _,a6 as I,aB as c,Y as k,ac as H,t as r,l as d,I as g,B as f,ag as b,q as v,H as y,ae as D,Z as m}from"./BDhoIBf6.js";import L from"./B-fossOU.js";import"./CwdQUdMJ.js";import"./DmxdaPuV.js";import"./B6rzJ7GZ.js";import"./kZgWdRKb.js";var A=_.extend({name:"dynamicdialog"}),B={name:"BaseDynamicDialog",extends:k,props:{},style:A,provide:function(){return{$pcDynamicDialog:this,$parentInstance:this}}},C={name:"DynamicDialog",extends:B,inheritAttrs:!1,data:function(){return{instanceMap:{}}},openListener:null,closeListener:null,currentInstance:null,mounted:function(){var t=this;this.openListener=function(u){var i=u.instance,s=I()+"_dynamic_dialog";i.visible=!0,i.key=s,t.instanceMap[s]=i},this.closeListener=function(u){var i=u.instance,s=u.params,a=i.key,o=t.instanceMap[a];o&&(o.visible=!1,o.options.onClose&&o.options.onClose({data:s,type:"config-close"}),t.currentInstance=o)},c.on("open",this.openListener),c.on("close",this.closeListener)},beforeUnmount:function(){c.off("open",this.openListener),c.off("close",this.closeListener)},methods:{onDialogHide:function(t){!this.currentInstance&&t.options.onClose&&t.options.onClose({type:"dialog-close"})},onDialogAfterHide:function(){this.currentInstance&&delete this.currentInstance,this.currentInstance=null},getTemplateItems:function(t){return Array.isArray(t)?t:[t]}},components:{DDialog:L}};function x(n,t,u,i,s,a){var o=H("DDialog");return r(!0),d(y,null,g(s.instanceMap,function(e,h){return r(),f(o,m({key:h,visible:e.visible,"onUpdate:visible":function(l){return e.visible=l},_instance:e,ref_for:!0},e.options.props,{onHide:function(l){return a.onDialogHide(e)},onAfterHide:a.onDialogAfterHide}),b({default:v(function(){return[(r(),f(D(e.content),m({ref_for:!0},e.options.emits),null,16))]}),_:2},[e.options.templates&&e.options.templates.header?{name:"header",fn:v(function(){return[(r(!0),d(y,null,g(a.getTemplateItems(e.options.templates.header),function(p,l){return r(),f(D(p),m({key:l+"_header",ref_for:!0},e.options.emits),null,16)}),128))]}),key:"0"}:void 0,e.options.templates&&e.options.templates.footer?{name:"footer",fn:v(function(){return[(r(!0),d(y,null,g(a.getTemplateItems(e.options.templates.footer),function(p,l){return r(),f(D(p),m({key:l+"_footer",ref_for:!0},e.options.emits),null,16)}),128))]}),key:"1"}:void 0]),1040,["visible","onUpdate:visible","_instance","onHide","onAfterHide"])}),128)}C.render=x;export{C as default};
