import{_ as A}from"./Dnd2WS99.js";import{q as R,t as V,ah as D,w as I,j as h,A as N,x as r,y as o,u as e,h as s,G as n,S as i,z as p,W as l,X as z,Y as L,P as x,_ as W}from"./DtstXNPz.js";import{s as j,_ as q}from"./Cdt7w9Yn.js";import{_ as E}from"./DnkcGymd.js";import{u as F,a as $,b as G}from"./efwBHscX.js";import{u as H}from"./DQsRhdkg.js";import{T as K}from"./DcT55SiP.js";import{u as Q}from"./CwAXMIi_.js";import{_ as X}from"./DlAUqK2U.js";import"./Cxjsfxqh.js";import"./BeRCer-F.js";import"./CRo4fNna.js";import"./D9MxDqS3.js";import"./NvE1yZ3L.js";const Y={class:"text-gray-500 separator-container font-mono mt-2"},C=20,J=R({__name:"index",async setup(M){let u,g;const a=Q("page","1",{transform:Number});V({title:"Portfolio Report - Securities",link:[{rel:"canonical",href:`https://www.portfolio-report.net/securities?page=${a.value}`}]});const{data:c,status:P,refresh:T}=([u,g]=D(()=>F(`securities:page-${a.value}`,()=>H(`/v1/securities?page=${a.value}`))),u=await u,g(),u);async function S(w){a.value=w.page+1}return I(a,()=>{T()}),(w,d)=>{var k,y;const v=A,_=W,B=q,m=E,f=K;return s(),h("div",null,[d[1]||(d[1]=N("h1",{class:"text-2xl font-bold mb-4"}," Securities ",-1)),r(e(G),{lazy:"",paginator:"",value:(k=e(c))==null?void 0:k.data,loading:e(P)==="pending","total-records":(y=e(c))==null?void 0:y.count,rows:C,first:(e(a)-1)*C,"paginator-template":"CurrentPageReport","current-page-report-template":"Showing {first} to {last} of {totalRecords} securities","striped-rows":"",onPage:d[0]||(d[0]=t=>S(t))},{paginatorstart:o(()=>[e(a)>1?(s(),n(_,{key:0,to:`/securities?page=${e(a)-1}`},{default:o(()=>[r(v,{solid:"",label:"Previous"})]),_:1},8,["to"])):i("",!0)]),paginatorend:o(()=>{var t;return[e(a)!==((t=e(c))==null?void 0:t.pages)?(s(),n(_,{key:0,to:`/securities?page=${e(a)+1}`},{default:o(()=>[r(v,{solid:"",label:"Next"})]),_:1},8,["to"])):i("",!0)]}),default:o(()=>[r(e($),{field:"name",header:"Name"},{body:o(({data:t})=>[r(_,{to:`/securities/${t.uuid}`,class:"text-blue-500"},{default:o(()=>[p(l(t.name),1)]),_:2},1032,["to"]),(s(!0),h(z,null,L(t.tags,b=>(s(),n(B,{key:b,name:b},null,8,["name"]))),128)),N("div",Y,[t.isin?x((s(),n(m,{key:0,text:t.isin},{default:o(()=>[p(l(t.isin),1)]),_:2},1032,["text"])),[[f,"ISIN",void 0,{top:!0}]]):i("",!0),t.wkn?x((s(),n(m,{key:1,text:t.wkn},{default:o(()=>[p(l(t.wkn),1)]),_:2},1032,["text"])),[[f,"WKN",void 0,{top:!0}]]):i("",!0),t.code?x((s(),n(m,{key:2,text:t.code},{default:o(()=>[p(l(t.code),1)]),_:2},1032,["text"])),[[f,"Code",void 0,{top:!0}]]):i("",!0)])]),_:1}),r(e($),{field:"securityType",header:"Type"},{body:o(({data:t})=>[r(e(j),{class:"mx-1 p-1 !text-xs !bg-teal-500 !text-white"},{default:o(()=>[p(l(t.securityType),1)]),_:2},1024)]),_:1})]),_:1},8,["value","loading","total-records","first"])])}}}),dt=X(J,[["__scopeId","data-v-3b608009"]]);export{dt as default};
