import{d as x,i as y,D as Z,c as p,Q as H,P as V,j as R,r as B,R as F,o as c,a as s,w as f,S as w,Y as O,n as S,p as U,m as T,b as i,k as M,F as D,t as N,Z as J,_ as E,$ as K,a0 as X,s as I,a1 as j,l as ee,a2 as z,a3 as te,a4 as oe,a5 as ae,v as ne}from"./entry.00d7ca0f.js";import{_ as $}from"./_plugin-vue_export-helper.a1a6add7.js";import{_ as P}from"./IconLink.35abeb55.js";import{a as le}from"./index.437697c2.js";const q=x({name:"ClientOnly",props:["fallback","placeholder","placeholderTag","fallbackTag"],setup(e,{slots:t}){const l=y(!1);return Z(()=>{l.value=!0}),n=>{var _;if(l.value)return(_=t.default)==null?void 0:_.call(t);const o=t.fallback||t.placeholder;if(o)return o();const a=n.fallback||n.placeholder||"",u=n.fallbackTag||n.placeholderTag||"span";return p(u,null,a)}}}),se=""+globalThis.__publicAssetsURL("favicon-192.png"),h=e=>(K("data-v-12331e82"),e=e(),X(),e),ie={class:"layout-topbar"},ue=h(()=>i("img",{class:"mx-2 h-4rem",src:se,to:"/",alt:"Logo"},null,-1)),ce=h(()=>i("span",{class:"text-2xl font-medium align-self-center text-color"}," Portfolio Report ",-1)),re=h(()=>i("i",{class:"i-carbon-menu"},null,-1)),pe=h(()=>i("i",{class:"i-carbon-overflow-menu-vertical"},null,-1)),_e={class:"layout-topbar-menu hidden lg:flex origin-top"},de=["onSubmit"],me={class:"p-inputgroup"},ve=h(()=>i("i",{class:"i-carbon-settings"},null,-1)),fe=h(()=>i("span",null,"Settings",-1)),be=h(()=>i("i",{class:"i-carbon-user-avatar"},null,-1)),ye={key:1},he=h(()=>i("i",{class:"i-carbon-login"},null,-1)),ke=h(()=>i("span",null,"Sign in",-1)),ge=x({__name:"AppTopBar",emits:["menuToggle"],setup(e,{emit:t}){const l=H(),n=V(),o=y(""),a=R(()=>n.loggedIn&&n.isAdmin);function u(){const d=o.value;o.value="",l.push({path:"/search",query:{q:d}})}const _=y(),k=d=>{var v;(v=_.value)==null||v.toggle(d)},r=y([{label:"Log out",items:[{label:"Log out",icon:"i-carbon-logout",command:()=>n.logout()}]}]);return(d,v)=>{const g=E,C=B("Button"),L=B("InputText"),A=q,m=F("styleclass");return c(),p("div",ie,[s(g,{to:"/",class:"layout-topbar-logo"},{default:f(()=>[ue,ce]),_:1}),w(s(C,{class:"p-link layout-menu-button layout-topbar-button",onClick:v[0]||(v[0]=U(b=>t("menuToggle"),["prevent"]))},{default:f(()=>[re]),_:1},512),[[O,S(a)]]),w((c(),T(C,{class:"p-link layout-topbar-menu-button layout-topbar-button"},{default:f(()=>[pe]),_:1})),[[m,{selector:"@next",enterClass:"hidden",enterActiveClass:"scalein",leaveToClass:"hidden",leaveActiveClass:"fadeout",hideOnOutsideClick:!0}]]),i("ul",_e,[i("li",null,[d.$route.path!="/search"?(c(),p("form",{key:0,onSubmit:U(u,["prevent"])},[i("div",me,[s(L,{modelValue:o.value,"onUpdate:modelValue":v[1]||(v[1]=b=>o.value=b),placeholder:"Search"},null,8,["modelValue"]),s(C,{type:"submit",icon:"i-carbon-search i-lg",class:"p-button-secondary"})])],40,de)):M("",!0)]),s(A,null,{default:f(()=>[S(a)?(c(),p(D,{key:0},[i("li",null,[s(C,{class:"p-link layout-topbar-button"},{default:f(()=>[ve,fe]),_:1})]),i("li",null,[s(C,{class:"p-link layout-topbar-button",onClick:k},{default:f(()=>[be,i("span",null,"User "+N(S(n).username.toUpperCase()),1)]),_:1}),s(S(J),{ref_key:"userMenu",ref:_,model:r.value,popup:!0},null,8,["model"])])],64)):(c(),p("li",ye,[s(g,{to:"/login"},{default:f(()=>[s(C,{class:"p-link layout-topbar-button"},{default:f(()=>[he,ke]),_:1})]),_:1})]))]),_:1})])])}}});const Ce=$(ge,[["__scopeId","data-v-12331e82"]]),xe={key:0,class:"mb-2 text-900 uppercase font-semibold text-sm"},Se=x({__name:"AppMenuItem",props:{item:null,active:{type:Boolean},root:{type:Boolean}},emits:["click"],setup(e,{emit:t}){const l=e;function n(o){const a=l.item;if(a.disabled){o.preventDefault();return}!a.to&&!a.url&&o.preventDefault(),l.item.command&&l.item.command({originalEvent:o,item:a}),t("click",o)}return(o,a)=>{const u=E;return c(),p("div",null,[e.root?(c(),p("div",xe,N(e.item.label),1)):(c(),T(u,{key:1,to:e.item.to||e.item.url,target:e.item.target,class:I([e.item.class,{"p-disabled":e.item.disabled}]),style:j(e.item.style),exact:"",onClick:n},{default:f(()=>[i("i",{class:I(e.item.icon)},null,2),i("span",null,N(e.item.label),1),e.item.items?(c(),p("i",{key:0,class:I(["ml-auto",{"i-carbon-chevron-down":!e.active,"i-carbon-chevron-up":e.active}])},null,2)):M("",!0)]),_:1},8,["to","target","class","style"]))])}}});const we=$(Se,[["__scopeId","data-v-ea8c05a9"]]),Me=x({__name:"AppSubMenu",props:{items:null,root:{type:Boolean}},emits:["menuitemClick"],setup(e,{emit:t}){const l=y(null);function n({event:a,item:u,index:_}){l.value=_===l.value?null:_,t("menuitemClick",{event:a,item:u,index:_})}function o(a){return typeof a.visible=="function"?a.visible():a.visible!==!1}return(a,u)=>{const _=we,k=B("AppSubMenu",!0);return c(),p("ul",null,[(c(!0),p(D,null,ee(e.items.filter(r=>o(r)),(r,d)=>{var v;return c(),p("li",{key:d,style:j(r.style),class:I({"x-menuitem-separator":r.separator,"x-menuitem-root":e.root&&!r.separator})},[r.separator?M("",!0):(c(),p(D,{key:0},[s(_,{item:r,root:(v=e.root)!=null?v:!1,active:l.value===d&&!r.to&&!r.disabled,onClick:g=>n({event:g,item:r,index:d})},null,8,["item","root","active","onClick"]),s(z,{name:"layout-submenu-wrapper"},{default:f(()=>[r.items?w((c(),T(k,{key:0,items:r.items,onMenuitemClick:u[0]||(u[0]=g=>t("menuitemClick",g))},null,8,["items"])),[[O,e.root||l.value===d]]):M("",!0)]),_:2},1024)],64))],6)}),128))])}}});const Ae=$(Me,[["__scopeId","data-v-78a26351"]]),Ie={class:"layout-menu-container"},$e=x({__name:"AppMenu",props:{layout:null,isDesktop:{type:Boolean}},emits:["menuitemClick","update:layout"],setup(e,{emit:t}){const l=e;function n(){l.layout==="static"?t("update:layout","overlay"):t("update:layout","static")}const o=[{label:"Public",items:[{label:"Search",icon:"i-carbon-search",to:"/search"},{label:"Statistics",icon:"i-carbon-analytics",to:"/stats"}]},{label:"Admin",items:[{label:"Securities",icon:"i-carbon-currency-dollar",to:"/admin/securities"},{label:"Taxonomies",icon:"i-carbon-tree-view",to:"/admin/taxonomies"},{label:"Statistics",icon:"i-carbon-analytics-custom",to:"/admin/stats"}]}];return(a,u)=>{const _=P,k=q,r=Ae;return c(),p("div",Ie,[s(k,null,{default:f(()=>[e.isDesktop?(c(),T(_,{key:0,small:"",class:"absolute right-0 mr-4",icon:e.layout==="static"?"i-carbon-pin-filled":"i-carbon-pin",onClick:n},null,8,["icon"])):M("",!0)]),_:1}),s(r,{items:o,root:!0,onMenuitemClick:u[0]||(u[0]=d=>t("menuitemClick",d))})])}}}),Te={class:"flex justify-content-center"},Le=x({__name:"AppFooter",setup(e){const t=te(),l=R(()=>t.public.gitSha?"https://github.com/portfolio-report/pr-www/tree/"+t.public.gitSha:"https://www.github.com/portfolio-report/pr-www");return(n,o)=>{const a=P,u=F("tooltip");return c(),p("footer",Te,[w(s(a,{href:"https://forum.portfolio-performance.info/",icon:"i-carbon-forum"},null,512),[[u,"Get help and discuss",void 0,{top:!0}]]),w(s(a,{to:"/contact",icon:"i-carbon-email"},null,512),[[u,"Get in contact",void 0,{top:!0}]]),w(s(a,{href:S(l),target:"_blank",icon:"i-carbon-logo-github"},null,8,["href"]),[[u,"Source code",void 0,{top:!0}]])])}}});const Be=$(Le,[["__scopeId","data-v-df6a6681"]]),De={class:"layout-main-container"},Ne={class:"layout-main"},Re={key:0,class:"layout-mask p-component-overlay"},Ue=x({__name:"default",setup(e){const t=y("static"),l=y(!1),n=y(!1),o=y(!1),a=y(),u=V(),{width:_}=le(),k=R(()=>_.value>=992);function r(){a.value=!0,k.value?t.value==="overlay"?(o.value===!0&&(n.value=!0),n.value=!n.value,o.value=!1):t.value==="static"&&(l.value=!l.value):o.value=!o.value}function d(){a.value=!0}function v(m){m.item.items||(n.value=!1,o.value=!1)}function g(){a.value||(n.value=!1,o.value=!1),a.value=!1}function C(m,b){m.classList?m.classList.add(b):m.className+=" "+b}function L(m,b){m.classList?m.classList.remove(b):m.className=m.className.replace(new RegExp("(^|\\b)"+b.split(" ").join("|")+"(\\b|$)","gi")," ")}oe(()=>{o.value?C(document.body,"overflow-hidden"):L(document.body,"overflow-hidden")});const A=y(["layout-wrapper","layout-overlay"]);return ae(()=>{u.loggedIn?A.value=["layout-wrapper",{"layout-overlay":t.value==="overlay","layout-static":t.value==="static","layout-static-sidebar-inactive":l.value&&t.value==="static","layout-overlay-sidebar-active":n.value&&t.value==="overlay","layout-mobile-sidebar-active":o.value}]:A.value=["layout-wrapper","layout-overlay"]},{flush:"post"}),(m,b)=>{const G=Ce,W=$e,Q=Be;return c(),p("div",{class:I(A.value),onClick:g},[s(G,{onMenuToggle:r}),i("div",{class:"layout-sidebar",onClick:d},[s(W,{layout:t.value,"onUpdate:layout":b[0]||(b[0]=Y=>t.value=Y),"is-desktop":S(k),onMenuitemClick:v},null,8,["layout","is-desktop"])]),i("div",De,[i("div",Ne,[ne(m.$slots,"default",{},void 0,!0)]),s(Q)]),s(z,{name:"layout-mask"},{default:f(()=>[o.value?(c(),p("div",Re)):M("",!0)]),_:1})],2)}}});const je=$(Ue,[["__scopeId","data-v-a92fd342"]]);export{je as default};
