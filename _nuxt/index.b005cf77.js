import{u as S,r as h,i as g,w as T,O as E,P as N,c as b,Q as k}from"./entry.4055f860.js";function y(e){return E()?(N(e),!0):!1}function x(e){return typeof e=="function"?e():S(e)}const F=typeof window<"u"&&typeof document<"u";function M(e,t=1e3,l={}){const{immediate:n=!0,immediateCallback:o=!1}=l;let u=null;const a=h(!1);function c(){u&&(clearInterval(u),u=null)}function m(){a.value=!1,c()}function f(){const i=x(t);i<=0||(a.value=!0,o&&e(),c(),u=setInterval(e,i))}if(n&&F&&f(),g(t)||typeof t=="function"){const i=T(t,()=>{a.value&&F&&f()});y(i)}return y(m),{isActive:a,pause:m,resume:f}}const C=F?window:void 0;function O(e,t={}){const{immediate:l=!0,window:n=C}=t,o=h(!1);let u=0,a=null;function c(i){if(!o.value||!n)return;const v=i-(u||i);e({delta:v,timestamp:i}),u=i,a=n.requestAnimationFrame(c)}function m(){!o.value&&n&&(o.value=!0,a=n.requestAnimationFrame(c))}function f(){o.value=!1,a!=null&&n&&(n.cancelAnimationFrame(a),a=null)}return l&&m(),y(f),{isActive:k(o),pause:f,resume:m}}function _(e={}){const{controls:t=!1,interval:l="requestAnimationFrame"}=e,n=h(new Date),o=()=>n.value=new Date,u=l==="requestAnimationFrame"?O(o,{immediate:!0}):M(o,l,{immediate:!0});return t?{now:n,...u}:n}const q=[{max:6e4,value:1e3,name:"second"},{max:276e4,value:6e4,name:"minute"},{max:72e6,value:36e5,name:"hour"},{max:5184e5,value:864e5,name:"day"},{max:24192e5,value:6048e5,name:"week"},{max:28512e6,value:2592e6,name:"month"},{max:Number.POSITIVE_INFINITY,value:31536e6,name:"year"}],R={justNow:"just now",past:e=>e.match(/\d/)?`${e} ago`:e,future:e=>e.match(/\d/)?`in ${e}`:e,month:(e,t)=>e===1?t?"last month":"next month":`${e} month${e>1?"s":""}`,year:(e,t)=>e===1?t?"last year":"next year":`${e} year${e>1?"s":""}`,day:(e,t)=>e===1?t?"yesterday":"tomorrow":`${e} day${e>1?"s":""}`,week:(e,t)=>e===1?t?"last week":"next week":`${e} week${e>1?"s":""}`,hour:e=>`${e} hour${e>1?"s":""}`,minute:e=>`${e} minute${e>1?"s":""}`,second:e=>`${e} second${e>1?"s":""}`,invalid:""};function U(e){return e.toISOString().slice(0,10)}function L(e,t={}){const{controls:l=!1,updateInterval:n=3e4}=t,{now:o,...u}=_({interval:n,controls:!0}),a=b(()=>V(new Date(x(e)),t,x(o)));return l?{timeAgo:a,...u}:a}function V(e,t={},l=Date.now()){var n;const{max:o,messages:u=R,fullDateFormatter:a=U,units:c=q,showSecond:m=!1,rounding:f="round"}=t,i=typeof f=="number"?r=>+r.toFixed(f):Math[f],v=+l-+e,p=Math.abs(v);function A(r,s){return i(Math.abs(r)/s.value)}function $(r,s){const w=A(r,s),d=r>0,I=D(s.name,w,d);return D(d?"past":"future",I,d)}function D(r,s,w){const d=u[r];return typeof d=="function"?d(s,w):d.replace("{0}",s.toString())}if(p<6e4&&!m)return u.justNow;if(typeof o=="number"&&p>o)return a(new Date(e));if(typeof o=="string"){const r=(n=c.find(s=>s.name===o))==null?void 0:n.max;if(r&&p>r)return a(new Date(e))}for(const[r,s]of c.entries()){if(A(v,s)<=0&&c[r-1])return $(v,c[r-1]);if(p<s.max)return $(v,s)}return u.invalid}export{L as u};
