import h from"./BfVZkNdl.js";import v from"./D-pObb5S.js";import C from"./Y14KoQkC.js";import g from"./DjMW2xZP.js";import{h as D,F as B,R as $,S as x,c as w,l as S,x as A,J as R,T,m as e,q as s,t as V,u as l}from"./B3vC9jQe.js";import{u as k}from"./BhSqX3BJ.js";import{u as F}from"./EryBevmk.js";import{s as E}from"./BT7i5kKw.js";import"./DYIqsIuU.js";import"./waGEodrn.js";import"./CXW3c1Rc.js";import"./DMrtaQxE.js";import"./2DHFRftH.js";import"./CzgsiDbl.js";import"./CB9V-THy.js";import"./CIzMxjn7.js";import"./C8EracF1.js";import"./DE8xC7_6.js";import"./DDMHMSBG.js";import"./VcjldsGS.js";import"./_7psSyki.js";import"./BnU3NVNM.js";import"./BZ9Eglbv.js";import"./D4n2-1Ml.js";import"./B3sy7V8p.js";import"./Dg-X5605.js";import"./Cy4gjv2D.js";import"./DGFZJVm0.js";import"./CeghTHIl.js";import"./Diu9ndsZ.js";const ct=D({__name:"[version]",async setup(N){var c;let i,m;const u=B(),{data:o,error:f}=([i,m]=$(()=>k(`stats:${u.params.version}`,()=>F(`/stats/updates/${u.params.version}`))),i=await i,m(),i);if(f.value||((c=o.value)==null?void 0:c.byCountry)==null||o.value.byDate==null)throw x({statusCode:404});const _={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1}}},y=w(()=>{var p;if(!((p=o.value)!=null&&p.byCountry))return{labels:[],datasets:[]};const a=[...o.value.byDate].sort((t,n)=>t.date.localeCompare(n.date));return{labels:a.map(t=>t.date),datasets:[{backgroundColor:"#3B82F6",borderColor:"#3B82F6",fill:!1,data:a.map(t=>t.count)}]}});return(a,p)=>{const t=h,n=v,d=C,b=g;return V(),S("div",null,[A("h2",null,"Version Statistics for "+R((a._.provides[T]||a.$route).params.version),1),e(b,null,{default:s(()=>[e(d,{header:"By date"},{default:s(()=>{var r;return[e(l(E),{type:"line",data:l(y),options:_,style:{height:"400px"}},null,8,["data"]),e(n,{value:(r=l(o))==null?void 0:r.byDate,"sort-field":"date","sort-order":-1,class:"p-datatable-sm font-mono"},{default:s(()=>[e(t,{field:"date",header:"Date",sortable:!0}),e(t,{field:"count",header:"Count",sortable:!0,class:"text-right"})]),_:1},8,["value"])]}),_:1}),e(d,{header:"By country"},{default:s(()=>{var r;return[e(n,{value:(r=l(o))==null?void 0:r.byCountry,"sort-field":"count","sort-order":-1,class:"p-datatable-sm font-mono"},{default:s(()=>[e(t,{field:"country",header:"Country",sortable:!0}),e(t,{field:"count",header:"Count",sortable:!0,class:"text-right"})]),_:1},8,["value"])]}),_:1})]),_:1})])}}});export{ct as default};
