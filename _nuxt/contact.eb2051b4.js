import{f as o,g as he,h as x,i as pe,j as O,k as q,l as G,m as ye,n as h,p as _e,q as xe,s as W,v as Z,x as J,d as be,u as Re,y as Ee,o as je,c as Ve,a as C,w as Q,r as P,b,z as T,A as Ce,e as L}from"./entry.49bc9768.js";import{u as we}from"./useApi.15294794.js";const se=e=>{if(e=o(e),Array.isArray(e))return!!e.length;if(e==null)return!1;if(e===!1)return!0;if(e instanceof Date)return!isNaN(e.getTime());if(typeof e=="object"){for(let a in e)return!0;return!1}return!!String(e).length};function V(){for(var e=arguments.length,a=new Array(e),n=0;n<e;n++)a[n]=arguments[n];return t=>(t=o(t),!se(t)||a.every(r=>r.test(t)))}V(/^[a-zA-Z]*$/);V(/^[a-zA-Z0-9]*$/);V(/^\d*(\.\d+)?$/);const Oe=/^(?:[A-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[A-z0-9!#$%&'*+/=?^_`{|}~-]+)*|"(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21\x23-\x5b\x5d-\x7f]|[\x01-\x09\x0b\x0c\x0e-\x7f])*")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9]{2,}(?:[a-z0-9-]*[a-z0-9])?|\[(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?|[a-z0-9-]*[a-z0-9]:(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21-\x5a\x53-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])+)\])$/i;var Pe=V(Oe),Te={$validator:Pe,$message:"Value is not a valid email address",$params:{type:"email"}};function ze(e){return typeof e=="string"&&(e=e.trim()),se(e)}var z={$validator:ze,$message:"Value is required",$params:{type:"required"}};const Ae=/^(?:(?:(?:https?|ftp):)?\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z0-9\u00a1-\uffff][a-z0-9\u00a1-\uffff_-]{0,62})?[a-z0-9\u00a1-\uffff]\.)+(?:[a-z\u00a1-\uffff]{2,}\.?))(?::\d{2,5})?(?:[/?#]\S*)?$/i;V(Ae);V(/(^[0-9]*$)|(^-[0-9]+$)/);V(/^[-]?\d*(\.\d+)?$/);function X(e){let a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return Object.keys(e).reduce((n,t)=>(a.includes(t)||(n[t]=o(e[t])),n),{})}function I(e){return typeof e=="function"}function Ie(e){return _e(e)||xe(e)}function ae(e,a,n){let t=e;const r=a.split(".");for(let l=0;l<r.length;l++){if(!t[r[l]])return n;t=t[r[l]]}return t}function F(e,a,n){return h(()=>e.some(t=>ae(a,t,{[n]:!1})[n]))}function K(e,a,n){return h(()=>e.reduce((t,r)=>{const l=ae(a,r,{[n]:!1})[n]||[];return t.concat(l)},[]))}function re(e,a,n,t){return e.call(t,o(a),o(n),t)}function le(e){return e.$valid!==void 0?!e.$valid:!e}function Le(e,a,n,t,r,l,v){let{$lazy:u,$rewardEarly:$}=r,i=arguments.length>7&&arguments[7]!==void 0?arguments[7]:[],c=arguments.length>8?arguments[8]:void 0,f=arguments.length>9?arguments[9]:void 0,p=arguments.length>10?arguments[10]:void 0;const g=x(!!t.value),s=x(0);n.value=!1;const m=O([a,t].concat(i,p),()=>{if(u&&!t.value||$&&!f.value&&!n.value)return;let d;try{d=re(e,a,c,v)}catch(_){d=Promise.reject(_)}s.value++,n.value=!!s.value,g.value=!1,Promise.resolve(d).then(_=>{s.value--,n.value=!!s.value,l.value=_,g.value=le(_)}).catch(_=>{s.value--,n.value=!!s.value,l.value=_,g.value=!0})},{immediate:!0,deep:typeof a=="object"});return{$invalid:g,$unwatch:m}}function Se(e,a,n,t,r,l,v,u){let{$lazy:$,$rewardEarly:i}=t;const c=()=>({}),f=h(()=>{if($&&!n.value||i&&!u.value)return!1;let p=!0;try{const g=re(e,a,v,l);r.value=g,p=le(g)}catch(g){r.value=g}return p});return{$unwatch:c,$invalid:f}}function Be(e,a,n,t,r,l,v,u,$,i,c){const f=x(!1),p=e.$params||{},g=x(null);let s,m;e.$async?{$invalid:s,$unwatch:m}=Le(e.$validator,a,f,n,t,g,r,e.$watchTargets,$,i,c):{$invalid:s,$unwatch:m}=Se(e.$validator,a,n,t,g,r,$,i);const d=e.$message;return{$message:I(d)?h(()=>d(X({$pending:f,$invalid:s,$params:X(p),$model:a,$response:g,$validator:l,$propertyPath:u,$property:v}))):d||"",$params:p,$pending:f,$invalid:s,$response:g,$unwatch:m}}function Ne(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const a=o(e),n=Object.keys(a),t={},r={},l={};let v=null;return n.forEach(u=>{const $=a[u];switch(!0){case I($.$validator):t[u]=$;break;case I($):t[u]={$validator:$};break;case u==="$validationGroups":v=$;break;case u.startsWith("$"):l[u]=$;break;default:r[u]=$}}),{rules:t,nestedValidators:r,config:l,validationGroups:v}}function ke(){}const Fe="__root";function oe(e,a,n){if(n)return a?a(e()):e();try{var t=Promise.resolve(e());return a?t.then(a):t}catch(r){return Promise.reject(r)}}function qe(e,a){return oe(e,ke,a)}function De(e,a){var n=e();return n&&n.then?n.then(a):a(n)}function Ge(e){return function(){for(var a=[],n=0;n<arguments.length;n++)a[n]=arguments[n];try{return Promise.resolve(e.apply(this,a))}catch(t){return Promise.reject(t)}}}function Me(e,a,n,t,r,l,v,u,$){const i=Object.keys(e),c=t.get(r,e),f=x(!1),p=x(!1),g=x(0);if(c){if(!c.$partial)return c;c.$unwatch(),f.value=c.$dirty.value}const s={$dirty:f,$path:r,$touch:()=>{f.value||(f.value=!0)},$reset:()=>{f.value&&(f.value=!1)},$commit:()=>{}};return i.length?(i.forEach(m=>{s[m]=Be(e[m],a,s.$dirty,l,v,m,n,r,$,p,g)}),s.$externalResults=h(()=>u.value?[].concat(u.value).map((m,d)=>({$propertyPath:r,$property:n,$validator:"$externalResults",$uid:`${r}-externalResult-${d}`,$message:m,$params:{},$response:null,$pending:!1})):[]),s.$invalid=h(()=>{const m=i.some(d=>o(s[d].$invalid));return p.value=m,!!s.$externalResults.value.length||m}),s.$pending=h(()=>i.some(m=>o(s[m].$pending))),s.$error=h(()=>s.$dirty.value?s.$pending.value||s.$invalid.value:!1),s.$silentErrors=h(()=>i.filter(m=>o(s[m].$invalid)).map(m=>{const d=s[m];return G({$propertyPath:r,$property:n,$validator:m,$uid:`${r}-${m}`,$message:d.$message,$params:d.$params,$response:d.$response,$pending:d.$pending})}).concat(s.$externalResults.value)),s.$errors=h(()=>s.$dirty.value?s.$silentErrors.value:[]),s.$unwatch=()=>i.forEach(m=>{s[m].$unwatch()}),s.$commit=()=>{p.value=!0,g.value=Date.now()},t.set(r,e,s),s):(c&&t.set(r,e,s),s)}function Ue(e,a,n,t,r,l,v){const u=Object.keys(e);return u.length?u.reduce(($,i)=>($[i]=D({validations:e[i],state:a,key:i,parentKey:n,resultsCache:t,globalConfig:r,instance:l,externalResults:v}),$),{}):{}}function Ye(e,a,n){const t=h(()=>[a,n].filter(s=>s).reduce((s,m)=>s.concat(Object.values(o(m))),[])),r=h({get(){return e.$dirty.value||(t.value.length?t.value.every(s=>s.$dirty):!1)},set(s){e.$dirty.value=s}}),l=h(()=>{const s=o(e.$silentErrors)||[],m=t.value.filter(d=>(o(d).$silentErrors||[]).length).reduce((d,_)=>d.concat(..._.$silentErrors),[]);return s.concat(m)}),v=h(()=>{const s=o(e.$errors)||[],m=t.value.filter(d=>(o(d).$errors||[]).length).reduce((d,_)=>d.concat(..._.$errors),[]);return s.concat(m)}),u=h(()=>t.value.some(s=>s.$invalid)||o(e.$invalid)||!1),$=h(()=>t.value.some(s=>o(s.$pending))||o(e.$pending)||!1),i=h(()=>t.value.some(s=>s.$dirty)||t.value.some(s=>s.$anyDirty)||r.value),c=h(()=>r.value?$.value||u.value:!1),f=()=>{e.$touch(),t.value.forEach(s=>{s.$touch()})},p=()=>{e.$commit(),t.value.forEach(s=>{s.$commit()})},g=()=>{e.$reset(),t.value.forEach(s=>{s.$reset()})};return t.value.length&&t.value.every(s=>s.$dirty)&&f(),{$dirty:r,$errors:v,$invalid:u,$anyDirty:i,$error:c,$pending:$,$touch:f,$reset:g,$silentErrors:l,$commit:p}}function D(e){const a=Ge(function(){return k(),De(function(){if(d.$rewardEarly)return H(),qe(J)},function(){return oe(J,function(){return new Promise(y=>{if(!N.value)return y(!B.value);const j=O(N,()=>{y(!B.value),j()})})})})});let{validations:n,state:t,key:r,parentKey:l,childResults:v,resultsCache:u,globalConfig:$={},instance:i,externalResults:c}=e;const f=l?`${l}.${r}`:r,{rules:p,nestedValidators:g,config:s,validationGroups:m}=Ne(n),d=Object.assign({},$,s),_=r?h(()=>{const y=o(t);return y?o(y[r]):void 0}):t,w=Object.assign({},o(c)||{}),M=h(()=>{const y=o(c);return r?y?o(y[r]):void 0:y}),U=Me(p,_,r,u,f,d,i,M,t),E=Ue(g,_,f,u,d,i,M),Y={};m&&Object.entries(m).forEach(y=>{let[j,R]=y;Y[j]={$invalid:F(R,E,"$invalid"),$error:F(R,E,"$error"),$pending:F(R,E,"$pending"),$errors:K(R,E,"$errors"),$silentErrors:K(R,E,"$silentErrors")}});const{$dirty:S,$errors:ue,$invalid:B,$anyDirty:ce,$error:de,$pending:N,$touch:k,$reset:fe,$silentErrors:me,$commit:H}=Ye(U,E,v),$e=r?h({get:()=>o(_),set:y=>{S.value=!0;const j=o(t),R=o(c);R&&(R[r]=w[r]),q(j[r])?j[r].value=y:j[r]=y}}):null;r&&d.$autoDirty&&O(_,()=>{S.value||k();const y=o(c);y&&(y[r]=w[r])},{flush:"sync"});function ve(y){return(v.value||{})[y]}function ge(){q(c)?c.value=w:Object.keys(w).length===0?Object.keys(c).forEach(y=>{delete c[y]}):Object.assign(c,w)}return G(Object.assign({},U,{$model:$e,$dirty:S,$error:de,$errors:ue,$invalid:B,$anyDirty:ce,$pending:N,$touch:k,$reset:fe,$path:f||Fe,$silentErrors:me,$validate:a,$commit:H},v&&{$getResultsForChild:ve,$clearExternalResults:ge,$validationGroups:Y},E))}class He{constructor(){this.storage=new Map}set(a,n,t){this.storage.set(a,{rules:n,result:t})}checkRulesValidity(a,n,t){const r=Object.keys(t),l=Object.keys(n);return l.length!==r.length||!l.every(u=>r.includes(u))?!1:l.every(u=>n[u].$params?Object.keys(n[u].$params).every($=>o(t[u].$params[$])===o(n[u].$params[$])):!0)}get(a,n){const t=this.storage.get(a);if(!t)return;const{rules:r,result:l}=t,v=this.checkRulesValidity(a,n,r),u=l.$unwatch?l.$unwatch:()=>({});return v?l:{$dirty:l.$dirty,$partial:!0,$unwatch:u}}}const A={COLLECT_ALL:!0,COLLECT_NONE:!1},ee=Symbol("vuelidate#injectChildResults"),te=Symbol("vuelidate#removeChildResults");function We(e){let{$scope:a,instance:n}=e;const t={},r=x([]),l=h(()=>r.value.reduce((c,f)=>(c[f]=o(t[f]),c),{}));function v(c,f){let{$registerAs:p,$scope:g,$stopPropagation:s}=f;s||a===A.COLLECT_NONE||g===A.COLLECT_NONE||a!==A.COLLECT_ALL&&a!==g||(t[p]=c,r.value.push(p))}n.__vuelidateInjectInstances=[].concat(n.__vuelidateInjectInstances||[],v);function u(c){r.value=r.value.filter(f=>f!==c),delete t[c]}n.__vuelidateRemoveInstances=[].concat(n.__vuelidateRemoveInstances||[],u);const $=W(ee,[]);Z(ee,n.__vuelidateInjectInstances);const i=W(te,[]);return Z(te,n.__vuelidateRemoveInstances),{childResults:l,sendValidationResultsToParent:$,removeValidationResultsFromParent:i}}function ie(e){return new Proxy(e,{get(a,n){return typeof a[n]=="object"?ie(a[n]):h(()=>a[n])}})}let ne=0;function Ze(e,a){var n;let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};arguments.length===1&&(t=e,e=void 0,a=void 0);let{$registerAs:r,$scope:l=A.COLLECT_ALL,$stopPropagation:v,$externalResults:u,currentVueInstance:$}=t;const i=$||((n=he())===null||n===void 0?void 0:n.proxy),c=i?i.$options:{};r||(ne+=1,r=`_vuelidate_${ne}`);const f=x({}),p=new He,{childResults:g,sendValidationResultsToParent:s,removeValidationResultsFromParent:m}=i?We({$scope:l,instance:i}):{childResults:x({})};if(!e&&c.validations){const d=c.validations;a=x({}),pe(()=>{a.value=i,O(()=>I(d)?d.call(a.value,new ie(a.value)):d,_=>{f.value=D({validations:_,state:a,childResults:g,resultsCache:p,globalConfig:t,instance:i,externalResults:u||i.vuelidateExternalResults})},{immediate:!0})}),t=c.validationsConfig||t}else{const d=q(e)||Ie(e)?e:G(e||{});O(d,_=>{f.value=D({validations:_,state:a,childResults:g,resultsCache:p,globalConfig:t,instance:i!=null?i:{},externalResults:u})},{immediate:!0})}return i&&(s.forEach(d=>d(f,{$registerAs:r,$scope:l,$stopPropagation:v})),ye(()=>m.forEach(d=>d(r)))),h(()=>Object.assign({},o(f.value),g.value))}const Je={class:"flex justify-content-center"},Qe=L("Contact"),Xe=L(" Please use the "),Ke=b("a",{href:"https://forum.portfolio-performance.info/"}," discussion forum ",-1),et=L(" for all matters that can be discussed publicly."),tt=b("br",null,null,-1),nt=L(" This contact form can be used to establish direct contact with the operators for all matters that cannot be discussed publicly. "),st=["onSubmit"],at={class:"p-float-label mt-4"},rt=b("label",{for:"formName"},"Your name",-1),lt={class:"p-float-label mt-4"},ot=b("label",{form:"formEmail"},"Your email address",-1),it={class:"p-float-label mt-4"},ut=b("label",{for:"formSubject"},"Subject",-1),ct={class:"p-float-label mt-4"},dt=b("label",{for:"formMessage"},"Your message",-1),ft={class:"flex justify-content-end mt-4"},vt=be({__name:"contact",setup(e){Re({title:"Portfolio Report - Contact"});const a=Ee(),n={name:"",email:"",subject:"",message:""},t=x({...n}),l=Ze({name:{required:z},email:{required:z,email:Te},subject:{required:z},message:{required:z}},t),v=x(!1);async function u(){if(l.value.$invalid){l.value.$touch(),a.add({severity:"error",summary:"Error",detail:"Please fill all fields.",life:5e3});return}v.value=!0;try{await we("/contact",{method:"post",body:t.value}),t.value={...n},l.value.$reset(),a.add({severity:"success",summary:"Thank you",detail:"Your message has been sent.",life:5e3}),v.value=!1}catch($){v.value=!1,a.add({severity:"error",summary:"Error",detail:"Message could not be sent. Please try again later.",life:5e3}),console.log($)}}return($,i)=>{const c=P("InputText"),f=P("Textarea"),p=P("TextBtn"),g=P("Card");return je(),Ve("div",Je,[C(g,{style:{width:"800px"}},{title:Q(()=>[Qe]),content:Q(()=>[Xe,Ke,et,tt,nt,b("form",{class:"mt-2",onSubmit:Ce(u,["prevent"])},[b("div",at,[C(c,{id:"formName",modelValue:o(l).name.$model,"onUpdate:modelValue":i[0]||(i[0]=s=>o(l).name.$model=s),class:T(["w-full",{"p-invalid":o(l).name.$invalid&&o(l).name.$dirty}]),onBlur:o(l).name.$touch},null,8,["modelValue","class","onBlur"]),rt]),b("div",lt,[C(c,{id:"formEmail",modelValue:o(l).email.$model,"onUpdate:modelValue":i[1]||(i[1]=s=>o(l).email.$model=s),class:T(["w-full",{"p-invalid":o(l).email.$invalid&&o(l).email.$dirty}]),onBlur:o(l).email.$touch},null,8,["modelValue","class","onBlur"]),ot]),b("div",it,[C(c,{id:"formSubject",modelValue:o(l).subject.$model,"onUpdate:modelValue":i[2]||(i[2]=s=>o(l).subject.$model=s),class:T(["w-full",{"p-invalid":o(l).subject.$invalid&&o(l).subject.$dirty}]),onBlur:o(l).subject.$touch},null,8,["modelValue","class","onBlur"]),ut]),b("div",ct,[C(f,{id:"message",modelValue:o(l).message.$model,"onUpdate:modelValue":i[3]||(i[3]=s=>o(l).message.$model=s),class:T(["w-full",{"p-invalid":o(l).message.$invalid&&o(l).message.$dirty}]),"auto-resize":!0,onBlur:o(l).message.$touch},null,8,["modelValue","class","onBlur"]),dt]),b("div",ft,[C(p,{type:"submit",icon:"i-carbon-send",label:"Send",disabled:v.value},null,8,["disabled"])])],40,st)]),_:1})])}}});export{vt as default};
