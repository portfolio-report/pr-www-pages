import oe from"./nsK1msMe.js";import{_ as ae}from"./C97NIKN2.js";import se from"./D1mpGtPb.js";import{u as re}from"./DV_Cf4-c.js";import ie from"./kjcdojwy.js";import{h as U,r as I,t as a,l,R as ce,v as n,x as u,m as c,q as s,u as e,c as S,y as le,S as ne,L as i,i as j,H as de,T as H,U as Y,j as ue,I as pe,M as z,N as O,O as $,J as b,K as r,V as me,_ as fe,P as _e,Q as ye}from"./DO12myHm.js";import ge from"./Y1ZLiHlH.js";import he from"./CryQnFQW.js";import J from"./5RpoRGW6.js";import W from"./KYaA74AW.js";import{u as Z,a as ke}from"./BQy8i_m4.js";import{u as K}from"./CkEQejWB.js";import{_ as be}from"./DlAUqK2U.js";import"./CijmaVs_.js";import"./dpm4ew_w.js";import"./K478Ap9L.js";import"./BojlTD2z.js";import"./RXI26n0P.js";import"./CziYYf5U.js";import"./1jtXLgU2.js";import"./sFmIyK-0.js";import"./CAR9QF1C.js";import"./BKQUzRtV.js";import"./D_1ldlao.js";import"./BujfpxkS.js";import"./BQiVjyRc.js";import"./C_K3iDCY.js";import"./CcK1ji_y.js";import"./Cksg1tZP.js";import"./CwWU-TtX.js";import"./D6s9iCeK.js";import"./B-6nRUvK.js";import"./DGYO-_ib.js";import"./BRBsgptG.js";import"./B5w_-Xlc.js";const ve=U({__name:"CopyClipboard",props:{text:{}},setup(g){const d=g,{copy:f}=re(),m=I(null);async function h(v){var t,k;f(d.text),(t=m.value)==null||t.show(v),await new Promise(_=>setTimeout(_,1500)),(k=m.value)==null||k.hide()}return(v,t)=>{const k=se;return a(),l("span",null,[ce(v.$slots,"default"),n(),u("a",{class:"ii i-carbon-copy cursor-pointer hover:text-primary-500",onClick:t[0]||(t[0]=_=>h(_))}),c(e(ie),{ref_key:"overlay",ref:m,dismissable:!1,"close-on-escape":!1,pt:{content:{class:"p-0"}}},{default:s(()=>[c(k,{severity:"success"},{default:s(()=>[n("Copied to clipboard")]),_:1})]),_:1},512)])}}}),xe=U({__name:"CountryFlag",props:{country:{}},setup(g){const d=g,f=S(()=>({AE:"i-flagpack-ae",AR:"i-flagpack-ar",AT:"i-flagpack-at",AU:"i-flagpack-au",BE:"i-flagpack-be",BG:"i-flagpack-bg",BR:"i-flagpack-br",CA:"i-flagpack-ca",CH:"i-flagpack-ch",CN:"i-flagpack-cn",CZ:"i-flagpack-cz",DE:"i-flagpack-de",DK:"i-flagpack-dk",ES:"i-flagpack-es",EU:"i-flag-eu-4x3",FI:"i-flagpack-fi",FR:"i-flagpack-fr",GB:"i-flagpack-gb-ukm",GR:"i-flagpack-gr",HK:"i-flagpack-hk",HR:"i-flagpack-hr",HU:"i-flagpack-hu",ID:"i-flagpack-id",IL:"i-flagpack-il",IR:"i-flagpack-ie",IN:"i-flagpack-in",IS:"i-flagpack-is",IT:"i-flagpack-it",JP:"i-flagpack-jp",KR:"i-flagpack-kr",LI:"i-flagpack-li",LU:"i-flagpack-lu",MX:"i-flagpack-mx",MY:"i-flagpack-my",NL:"i-flagpack-nl",NO:"i-flagpack-no",NZ:"i-flagpack-nz",PH:"i-flagpack-ph",PL:"i-flagpack-pl",PT:"i-flagpack-pt",RO:"i-flagpack-ro",RU:"i-flagpack-ru",SE:"i-flagpack-se",SG:"i-flagpack-sg",TH:"i-flagpack-th",TR:"i-flagpack-tr",TW:"i-flagpack-tw",US:"i-flagpack-us",VN:"i-flagpack-vn",ZA:"i-flagpack-za"})[d.country]);return(m,h)=>(a(),l("i",{class:le(["ii",e(f)])},null,2))}}),Ce=u("span",{class:"flex-1 text-right"},"Close",-1),we=U({__name:"PricesTable",props:{prices:{}},setup(g){const d=g,f=S(()=>d.prices.map(h=>({dateStr:h.date,date:new Date(h.date),close:h.close}))),m=I({date:{operator:ne.AND,constraints:[{value:null,matchMode:"dateIs"}]}});return(h,v)=>{const t=he,k=J,_=W;return a(),l("div",null,[c(_,{filters:e(m),"onUpdate:filters":v[0]||(v[0]=y=>j(m)?m.value=y:null),value:e(f),class:"p-datatable-sm font-mono",paginator:!0,rows:10,"sort-field":"date","sort-order":-1,"rows-per-page-options":[10,30,100,300],"filter-display":"menu"},{default:s(()=>[c(k,{field:"date",header:"Date",sortable:"","data-type":"date"},{body:s(({data:y})=>[n(i(y.dateStr),1)]),filter:s(({filterModel:y})=>[c(t,{modelValue:y.value,"onUpdate:modelValue":A=>y.value=A,"date-format":"yy-mm-dd",placeholder:"yyyy-mm-dd"},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),c(k,{field:"close","body-class":"text-right"},{header:s(()=>[Ce]),body:s(({data:y})=>[n(i(y.close.toLocaleString(void 0,{minimumFractionDigits:2})),1)]),_:1})]),_:1},8,["filters","value"])])}}}),Te=g=>(_e("data-v-85c75589"),g=g(),ye(),g),Ne={class:"flex justify-content-center"},Re={style:{width:"800px"}},Se={class:"flex flex-wrap"},Ae={class:"flex-grow-1"},De={class:"separator-container font-mono"},Ie=Te(()=>u("span",{class:"mt-2 cursor-move w-20rem p-button p-component"},[u("span",{class:"i-carbon-move i-lg p-button-icon p-button-icon-left"}),u("span",{class:"p-button-label"},"Add to Portfolio Performance")],-1)),Pe=["src"],$e={class:"mt-4"},Ue={key:0},Ee={key:2},Be={key:3},He={key:4},Ke={class:"font-mono"},Le={class:"font-mono"},Ve={key:5},Fe={key:6,class:"font-mono"},Ge={key:7},Xe={key:9},Me={key:10,class:"font-mono"},Ye={key:11},ze={key:13},Oe=U({__name:"[uuid]",async setup(g){let d,f;const m=de(),{data:h,error:v}=([d,f]=H(()=>Z(`security:${m.params.uuid}`,()=>K(`/securities/uuid/${m.params.uuid}`))),d=await d,f(),d);if(v.value||!h.value)throw Y({statusCode:404,message:"This page could not be found",fatal:!0});const t=I(h.value),k=[{code:"EUR"},{code:"USD"},{code:"AED"},{code:"AUD"},{code:"BGN"},{code:"BRL"},{code:"CAD"},{code:"CHF"},{code:"CNY"},{code:"CZK"},{code:"DKK"},{code:"GBP"},{code:"GBX"},{code:"HKD"},{code:"HRK"},{code:"HUF"},{code:"IDR"},{code:"ILS"},{code:"INR"},{code:"ISK"},{code:"JPY"},{code:"KRW"},{code:"MXN"},{code:"MYR"},{code:"NOK"},{code:"NZD"},{code:"PHP"},{code:"PLN"},{code:"RON"},{code:"RUB"},{code:"SEK"},{code:"SGD"},{code:"THB"},{code:"TRY"},{code:"ZAR"}],_=I(k[0]),{data:y}=([d,f]=H(async()=>ke(`security:${m.params.uuid}:prices:${_.value.code}`,async()=>t.value.pricesAvailable?await K(`/securities/uuid/${m.params.uuid}/prices/${_.value.code}`,{params:{from:"2000-01-01"}}):[],{watch:[_]})),d=await d,f(),d),A=S(()=>{var p,w;return(w=(p=t.value)==null?void 0:p.markets)==null?void 0:w.map(T=>{let N;return T.marketCode==="XETR"?N="XETRA (Frankfurt)":T.marketCode==="XFRA"?N="Frankfurt":T.marketCode==="XNAS"?N="NASDAQ":T.marketCode==="XNYS"&&(N="NYSE"),{...T,name:N}})}),{data:L}=([d,f]=H(()=>Z("taxonomies",()=>K("/taxonomies/"))),d=await d,f(),d);if(!L.value)throw Y({statusCode:404,message:"This page could not be found",fatal:!0});const Q=I(L.value),V=S(()=>t.value.securityTaxonomies.map(p=>({...p,weight:Number(p.weight),taxonomy:Q.value.find(w=>w.uuid===p.taxonomyUuid)}))),x=S(()=>V.value.filter(p=>p.rootTaxonomyUuid==="5b0d5647-a4e6-4db8-807b-c3a6d11697a7")),R=S(()=>V.value.filter(p=>p.rootTaxonomyUuid==="072bba7b-ed7a-4cb4-aab3-91520d00fb00"));return ue(()=>{var p;return{title:`${(p=t.value)==null?void 0:p.name} - Portfolio Report`,link:[{rel:"canonical",href:`https://www.portfolio-report.net/securities/${t.value.uuid}`}]}}),(p,w)=>{var F,G,X,M;const T=oe,N=ae,E=ve,q=fe,D=xe,ee=ge,te=we,C=J,B=W,P=pe("tooltip");return a(),l("div",Ne,[u("div",Re,[u("div",Se,[u("div",Ae,[u("h2",null,[n(i(e(t).name)+" ",1),c(T,{class:"mx-1 bg-teal-500 vertical-align-top"},{default:s(()=>[n(i(e(t).securityType),1)]),_:1}),(a(!0),l(z,null,O(e(t).tags,o=>(a(),b(N,{key:o,class:"vertical-align-top",name:o},null,8,["name"]))),128))]),u("div",De,[e(t).isin?$((a(),b(E,{key:0,text:e(t).isin},{default:s(()=>[n(i(e(t).isin),1)]),_:1},8,["text"])),[[P,"ISIN",void 0,{top:!0}]]):r("",!0),e(t).wkn?$((a(),b(E,{key:1,text:e(t).wkn},{default:s(()=>[n(i(e(t).wkn),1)]),_:1},8,["text"])),[[P,"WKN",void 0,{top:!0}]]):r("",!0),e(t).code?$((a(),b(E,{key:2,text:e(t).code},{default:s(()=>[n(i(e(t).code),1)]),_:1},8,["text"])),[[P,"Code",void 0,{top:!0}]]):r("",!0)]),$((a(),b(q,{to:(p._.provides[me]||p.$route).path},{default:s(()=>[Ie]),_:1},8,["to"])),[[P,{escape:!1,value:"<h4>Drag and drop!</h4> To add this security in Portfolio Performance, drag and drop it to securities list or statement of assets."},void 0,{right:!0}]])]),u("div",null,[e(t).logoUrl?(a(),l("img",{key:0,src:e(t).logoUrl,style:{"max-width":"100px","max-height":"100px","mix-blend-mode":"multiply"}},null,8,Pe)):r("",!0)])]),u("div",$e,[e(t).pricesAvailable?(a(),l("h3",Ue,[n(" Prices "),e(t).pricesAvailable?(a(),b(ee,{key:0,modelValue:e(_),"onUpdate:modelValue":w[0]||(w[0]=o=>j(_)?_.value=o:null),options:k,"option-label":"code"},{value:s(({value:o})=>[c(D,{country:o.code.substring(0,2),class:"mr-1"},null,8,["country"]),n(" "+i(o.code),1)]),option:s(({option:o})=>[c(D,{country:o.code.substring(0,2),class:"mr-1"},null,8,["country"]),n(" "+i(o.code),1)]),_:1},8,["modelValue"])):r("",!0)])):r("",!0),e(t).pricesAvailable&&e(y)?(a(),b(te,{key:1,prices:e(y)},null,8,["prices"])):r("",!0),e(t).pricesAvailable?r("",!0):(a(),l("span",Ee," No prices available ")),e(A).length>0?(a(),l("h5",Be," Markets ")):r("",!0),e(A).length>0?(a(),l("ul",He,[(a(!0),l(z,null,O(e(A),o=>(a(),l("li",{key:o.marketCode},[u("b",null,i(o.name),1),u("ul",null,[u("li",null,[n(" Currency: "),c(D,{country:o.currencyCode.substring(0,2),class:"mr-1"},null,8,["country"]),u("b",Ke,i(o.currencyCode||"-"),1)]),u("li",null,[n(" Symbol: "),u("b",Le,i(o.symbol),1)])])]))),128))])):r("",!0),e(x).length===1?(a(),l("h5",Ve," Country ")):r("",!0),e(x).length===1?(a(),l("span",Fe,[c(D,{country:((F=e(x)[0].taxonomy)==null?void 0:F.code)??"",class:"mr-1"},null,8,["country"]),n(" "+i((G=e(x)[0].taxonomy)==null?void 0:G.name)+" ("+i((X=e(x)[0].taxonomy)==null?void 0:X.code)+") ",1)])):r("",!0),e(x).length>1?(a(),l("h5",Ge," Countries ")):r("",!0),e(x).length>1?(a(),b(B,{key:8,value:e(x),"sort-field":"weight","sort-order":-1,class:"p-datatable-sm mb-2"},{default:s(()=>[c(C,{field:"weight",header:"Percentage",sortable:!0},{body:s(({data:o})=>[n(i(o.weight)+"% ",1)]),_:1}),c(C,{field:"taxonomy.name",header:"Country",sortable:!0},{body:s(({data:o})=>[c(D,{country:o.taxonomy.code,class:"mr-1"},null,8,["country"]),n(" "+i(o.taxonomy.name),1)]),_:1}),c(C,{field:"taxonomy.code",header:"Code",sortable:!0})]),_:1},8,["value"])):r("",!0),e(R).length===1?(a(),l("h5",Xe," Industry ")):r("",!0),e(R).length===1?(a(),l("span",Me,i((M=e(R)[0].taxonomy)==null?void 0:M.name),1)):r("",!0),e(R).length>1?(a(),l("h5",Ye," Industries ")):r("",!0),e(R).length>1?(a(),b(B,{key:12,value:e(R),"sort-field":"weight","sort-order":-1,class:"p-datatable-sm"},{default:s(()=>[c(C,{field:"weight",header:"Percentage",sortable:!0},{body:s(({data:o})=>[n(i(o.weight)+"% ",1)]),_:1}),c(C,{field:"taxonomy.name",header:"Country",sortable:!0})]),_:1},8,["value"])):r("",!0),e(t).events.length>0?(a(),l("h5",ze," Events ")):r("",!0),e(t).events.length>0?(a(),b(B,{key:14,value:e(t).events,class:"p-datatable-sm font-mono"},{default:s(()=>[c(C,{field:"date",header:"Date"}),c(C,{field:"type",header:"Type",style:{"text-transform":"capitalize"}}),c(C,{header:"..."},{body:s(({data:o})=>[n(i(o.type==="dividend"?`${o.amount} ${o.currencyCode}`:"")+" "+i(o.type==="split"?o.ratio:""),1)]),_:1})]),_:1},8,["value"])):r("",!0)])])])}}}),At=be(Oe,[["__scopeId","data-v-85c75589"]]);export{At as default};
