import{u as k,r as g,i as L,w as C,T as E,U as N,V as j,c as T,B as q,g as O}from"./BqEduGTg.js";function A(e){return N()?(j(e),!0):!1}function h(e){return typeof e=="function"?e():k(e)}const S=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const R=Object.prototype.toString,W=e=>R.call(e)==="[object Object]",P=()=>{};function U(e){let t;function r(){return t||(t=e()),t}return r.reset=async()=>{const a=t;t=void 0,a&&await a},r}function V(e,t=1e3,r={}){const{immediate:a=!0,immediateCallback:o=!1}=r;let n=null;const u=g(!1);function i(){n&&(clearInterval(n),n=null)}function c(){u.value=!1,i()}function s(){const l=h(t);l<=0||(u.value=!0,o&&e(),i(),n=setInterval(e,l))}if(a&&S&&s(),L(t)||typeof t=="function"){const l=C(t,()=>{u.value&&S&&s()});A(l)}return A(c),{isActive:u,pause:c,resume:s}}function G(e,t,r={}){const{immediate:a=!0}=r,o=g(!1);let n=null;function u(){n&&(clearTimeout(n),n=null)}function i(){o.value=!1,u()}function c(...s){u(),o.value=!0,n=setTimeout(()=>{o.value=!1,n=null,e(...s)},h(t))}return a&&(o.value=!0,S&&c()),A(i),{isPending:E(o),start:c,stop:i}}function B(e){var t;const r=h(e);return(t=r==null?void 0:r.$el)!=null?t:r}const I=S?window:void 0,D=S?window.navigator:void 0;function M(...e){let t,r,a,o;if(typeof e[0]=="string"||Array.isArray(e[0])?([r,a,o]=e,t=I):[t,r,a,o]=e,!t)return P;Array.isArray(r)||(r=[r]),Array.isArray(a)||(a=[a]);const n=[],u=()=>{n.forEach(l=>l()),n.length=0},i=(l,m,p,w)=>(l.addEventListener(m,p,w),()=>l.removeEventListener(m,p,w)),c=C(()=>[B(t),h(o)],([l,m])=>{if(u(),!l)return;const p=W(m)?{...m}:m;n.push(...r.flatMap(w=>a.map(x=>i(l,w,x,p))))},{immediate:!0,flush:"post"}),s=()=>{c(),u()};return A(s),s}function Y(){const e=g(!1),t=O();return t&&q(()=>{e.value=!0},t),e}function _(e){const t=Y();return T(()=>(t.value,!!e()))}function z(e,t={}){const{immediate:r=!0,fpsLimit:a=void 0,window:o=I}=t,n=g(!1),u=a?1e3/a:null;let i=0,c=null;function s(p){if(!n.value||!o)return;i||(i=p);const w=p-i;if(u&&w<u){c=o.requestAnimationFrame(s);return}i=p,e({delta:w,timestamp:p}),c=o.requestAnimationFrame(s)}function l(){!n.value&&o&&(n.value=!0,i=0,c=o.requestAnimationFrame(s))}function m(){n.value=!1,c!=null&&o&&(o.cancelAnimationFrame(c),c=null)}return r&&l(),A(m),{isActive:E(n),pause:m,resume:l}}function $(e,t={}){const{controls:r=!1,navigator:a=D}=t,o=_(()=>a&&"permissions"in a);let n;const u=typeof e=="string"?{name:e}:e,i=g(),c=()=>{n&&(i.value=n.state)},s=U(async()=>{if(o.value){if(!n)try{n=await a.permissions.query(u),M(n,"change",c),c()}catch{i.value="prompt"}return n}});return s(),r?{state:i,isSupported:o,query:s}:i}function ee(e={}){const{navigator:t=D,read:r=!1,source:a,copiedDuring:o=1500,legacy:n=!1}=e,u=_(()=>t&&"clipboard"in t),i=$("clipboard-read"),c=$("clipboard-write"),s=T(()=>u.value||n),l=g(""),m=g(!1),p=G(()=>m.value=!1,o);function w(){u.value&&y(i.value)?t.clipboard.readText().then(f=>{l.value=f}):l.value=v()}s.value&&r&&M(["copy","cut"],w);async function x(f=h(a)){s.value&&f!=null&&(u.value&&y(c.value)?await t.clipboard.writeText(f):b(f),l.value=f,m.value=!0,p.start())}function b(f){const d=document.createElement("textarea");d.value=f??"",d.style.position="absolute",d.style.opacity="0",document.body.appendChild(d),d.select(),document.execCommand("copy"),d.remove()}function v(){var f,d,F;return(F=(d=(f=document==null?void 0:document.getSelection)==null?void 0:f.call(document))==null?void 0:d.toString())!=null?F:""}function y(f){return f==="granted"||f==="prompt"}return{isSupported:s,text:l,copied:m,copy:x}}function H(e={}){const{controls:t=!1,interval:r="requestAnimationFrame"}=e,a=g(new Date),o=()=>a.value=new Date,n=r==="requestAnimationFrame"?z(o,{immediate:!0}):V(o,r,{immediate:!0});return t?{now:a,...n}:a}const J=[{max:6e4,value:1e3,name:"second"},{max:276e4,value:6e4,name:"minute"},{max:72e6,value:36e5,name:"hour"},{max:5184e5,value:864e5,name:"day"},{max:24192e5,value:6048e5,name:"week"},{max:28512e6,value:2592e6,name:"month"},{max:Number.POSITIVE_INFINITY,value:31536e6,name:"year"}],K={justNow:"just now",past:e=>e.match(/\d/)?`${e} ago`:e,future:e=>e.match(/\d/)?`in ${e}`:e,month:(e,t)=>e===1?t?"last month":"next month":`${e} month${e>1?"s":""}`,year:(e,t)=>e===1?t?"last year":"next year":`${e} year${e>1?"s":""}`,day:(e,t)=>e===1?t?"yesterday":"tomorrow":`${e} day${e>1?"s":""}`,week:(e,t)=>e===1?t?"last week":"next week":`${e} week${e>1?"s":""}`,hour:e=>`${e} hour${e>1?"s":""}`,minute:e=>`${e} minute${e>1?"s":""}`,second:e=>`${e} second${e>1?"s":""}`,invalid:""};function Q(e){return e.toISOString().slice(0,10)}function te(e,t={}){const{controls:r=!1,updateInterval:a=3e4}=t,{now:o,...n}=H({interval:a,controls:!0}),u=T(()=>X(new Date(h(e)),t,h(o)));return r?{timeAgo:u,...n}:u}function X(e,t={},r=Date.now()){var a;const{max:o,messages:n=K,fullDateFormatter:u=Q,units:i=J,showSecond:c=!1,rounding:s="round"}=t,l=typeof s=="number"?v=>+v.toFixed(s):Math[s],m=+r-+e,p=Math.abs(m);function w(v,y){return l(Math.abs(v)/y.value)}function x(v,y){const f=w(v,y),d=v>0,F=b(y.name,f,d);return b(d?"past":"future",F,d)}function b(v,y,f){const d=n[v];return typeof d=="function"?d(y,f):d.replace("{0}",y.toString())}if(p<6e4&&!c)return n.justNow;if(typeof o=="number"&&p>o)return u(new Date(e));if(typeof o=="string"){const v=(a=i.find(y=>y.name===o))==null?void 0:a.max;if(v&&p>v)return u(new Date(e))}for(const[v,y]of i.entries()){if(w(m,y)<=0&&i[v-1])return x(m,i[v-1]);if(p<y.max)return x(m,y)}return n.invalid}export{te as a,ee as u};
