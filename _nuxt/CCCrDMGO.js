import h from"./BcTmlemJ.js";import v from"./BfoI1gDv.js";import C from"./CInZHw6B.js";import g from"./CY1CsR-I.js";import{h as D,F as B,R as $,S as x,c as w,l as S,x as A,J as R,T,m as e,q as s,t as V,u as l}from"./BGiO7zQw.js";import{u as k}from"./nk3lBDBD.js";import{u as F}from"./YRORligW.js";import{s as E}from"./DMzXsRwu.js";import"./99ucK42n.js";import"./DgAL07md.js";import"./D3q9xhJO.js";import"./Ded2R-Za.js";import"./BmUiErYL.js";import"./D6Sc5A3y.js";import"./DSrISKJ_.js";import"./CEBooXCk.js";import"./DIyoiqnI.js";import"./DRsAggwH.js";import"./C_WQoFeu.js";import"./DvdOgAKu.js";import"./CugDv2gZ.js";import"./BZ9OIGSu.js";import"./ZB6oP4Aj.js";import"./BNcXjh92.js";import"./_Eb_cAaY.js";import"./BfEFFRQZ.js";import"./Dwj_aWcc.js";import"./aghpzbe_.js";import"./CMKqPOxl.js";import"./spmkHG97.js";const ct=D({__name:"[version]",async setup(N){var c;let i,m;const u=B(),{data:o,error:f}=([i,m]=$(()=>k(`stats:${u.params.version}`,()=>F(`/stats/updates/${u.params.version}`))),i=await i,m(),i);if(f.value||((c=o.value)==null?void 0:c.byCountry)==null||o.value.byDate==null)throw x({statusCode:404});const _={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1}}},y=w(()=>{var p;if(!((p=o.value)!=null&&p.byCountry))return{labels:[],datasets:[]};const a=[...o.value.byDate].sort((t,n)=>t.date.localeCompare(n.date));return{labels:a.map(t=>t.date),datasets:[{backgroundColor:"#3B82F6",borderColor:"#3B82F6",fill:!1,data:a.map(t=>t.count)}]}});return(a,p)=>{const t=h,n=v,d=C,b=g;return V(),S("div",null,[A("h2",null,"Version Statistics for "+R((a._.provides[T]||a.$route).params.version),1),e(b,null,{default:s(()=>[e(d,{header:"By date"},{default:s(()=>{var r;return[e(l(E),{type:"line",data:l(y),options:_,style:{height:"400px"}},null,8,["data"]),e(n,{value:(r=l(o))==null?void 0:r.byDate,"sort-field":"date","sort-order":-1,class:"p-datatable-sm font-mono"},{default:s(()=>[e(t,{field:"date",header:"Date",sortable:!0}),e(t,{field:"count",header:"Count",sortable:!0,class:"text-right"})]),_:1},8,["value"])]}),_:1}),e(d,{header:"By country"},{default:s(()=>{var r;return[e(n,{value:(r=l(o))==null?void 0:r.byCountry,"sort-field":"count","sort-order":-1,class:"p-datatable-sm font-mono"},{default:s(()=>[e(t,{field:"country",header:"Country",sortable:!0}),e(t,{field:"count",header:"Count",sortable:!0,class:"text-right"})]),_:1},8,["value"])]}),_:1})]),_:1})])}}});export{ct as default};
