import{d as I,i as v,D as z,c as _,Q as se,P as G,j as W,r as B,R as q,o as r,a as u,w as b,S as x,W as K,n as C,p as U,m as $,b as c,k as O,F as P,t as N,X as ie,_ as X,Y as ue,Z as ce,s as M,$ as Y,l as re,a0 as Z,a1 as de,C as pe,M as _e,a2 as me,a3 as fe,B as ve,a4 as ye,a5 as be,v as he}from"./entry.d6943cf6.js";import{_ as T}from"./_plugin-vue_export-helper.a1a6add7.js";import{_ as J}from"./IconLink.3aff68cd.js";const ee=I({name:"ClientOnly",props:["fallback","placeholder","placeholderTag","fallbackTag"],setup(e,{slots:t}){const n=v(!1);return z(()=>{n.value=!0}),l=>{var i;if(n.value)return(i=t.default)==null?void 0:i.call(t);const o=t.fallback||t.placeholder;if(o)return o();const a=l.fallback||l.placeholder||"",s=l.fallbackTag||l.placeholderTag||"span";return _(s,null,a)}}}),ge=""+globalThis.__publicAssetsURL("favicon-192.png"),g=e=>(ue("data-v-12331e82"),e=e(),ce(),e),ke={class:"layout-topbar"},we=g(()=>c("img",{class:"mx-2 h-4rem",src:ge,to:"/",alt:"Logo"},null,-1)),Ce=g(()=>c("span",{class:"text-2xl font-medium align-self-center text-color"}," Portfolio Report ",-1)),Ie=g(()=>c("i",{class:"i-carbon-menu"},null,-1)),xe=g(()=>c("i",{class:"i-carbon-overflow-menu-vertical"},null,-1)),Oe={class:"layout-topbar-menu hidden lg:flex origin-top"},Se=["onSubmit"],Me={class:"p-inputgroup"},Te=g(()=>c("i",{class:"i-carbon-settings"},null,-1)),Ae=g(()=>c("span",null,"Settings",-1)),$e=g(()=>c("i",{class:"i-carbon-user-avatar"},null,-1)),Le={key:1},Ee=g(()=>c("i",{class:"i-carbon-login"},null,-1)),Be=g(()=>c("span",null,"Sign in",-1)),Pe=I({__name:"AppTopBar",emits:["menuToggle"],setup(e,{emit:t}){const n=se(),l=G(),o=v(""),a=W(()=>l.loggedIn&&l.isAdmin);function s(){const m=o.value;o.value="",n.push({path:"/search",query:{q:m}})}const i=v(),p=m=>{var y;(y=i.value)==null||y.toggle(m)},d=v([{label:"Log out",items:[{label:"Log out",icon:"i-carbon-logout",command:()=>l.logout()}]}]);return(m,y)=>{const k=X,w=B("Button"),L=B("InputText"),S=ee,f=q("styleclass");return r(),_("div",ke,[u(k,{to:"/",class:"layout-topbar-logo"},{default:b(()=>[we,Ce]),_:1}),x(u(w,{class:"p-link layout-menu-button layout-topbar-button",onClick:y[0]||(y[0]=U(h=>t("menuToggle"),["prevent"]))},{default:b(()=>[Ie]),_:1},512),[[K,C(a)]]),x((r(),$(w,{class:"p-link layout-topbar-menu-button layout-topbar-button"},{default:b(()=>[xe]),_:1})),[[f,{selector:"@next",enterClass:"hidden",enterActiveClass:"scalein",leaveToClass:"hidden",leaveActiveClass:"fadeout",hideOnOutsideClick:!0}]]),c("ul",Oe,[c("li",null,[m.$route.path!="/search"?(r(),_("form",{key:0,onSubmit:U(s,["prevent"])},[c("div",Me,[u(L,{modelValue:o.value,"onUpdate:modelValue":y[1]||(y[1]=h=>o.value=h),placeholder:"Search"},null,8,["modelValue"]),u(w,{type:"submit",icon:"i-carbon-search i-lg",class:"p-button-secondary"})])],40,Se)):O("",!0)]),u(S,null,{default:b(()=>[C(a)?(r(),_(P,{key:0},[c("li",null,[u(w,{class:"p-link layout-topbar-button"},{default:b(()=>[Te,Ae]),_:1})]),c("li",null,[u(w,{class:"p-link layout-topbar-button",onClick:p},{default:b(()=>[$e,c("span",null,"User "+N(C(l).username.toUpperCase()),1)]),_:1}),u(C(ie),{ref_key:"userMenu",ref:i,model:d.value,popup:!0},null,8,["model"])])],64)):(r(),_("li",Le,[u(k,{to:"/login"},{default:b(()=>[u(w,{class:"p-link layout-topbar-button"},{default:b(()=>[Ee,Be]),_:1})]),_:1})]))]),_:1})])])}}});const Ne=T(Pe,[["__scopeId","data-v-12331e82"]]),De={key:0,class:"mb-2 text-900 uppercase font-semibold text-sm"},Qe=I({__name:"AppMenuItem",props:{item:null,active:{type:Boolean},root:{type:Boolean}},emits:["click"],setup(e,{emit:t}){const n=e;function l(o){const a=n.item;if(a.disabled){o.preventDefault();return}!a.to&&!a.url&&o.preventDefault(),n.item.command&&n.item.command({originalEvent:o,item:a}),t("click",o)}return(o,a)=>{const s=X;return r(),_("div",null,[e.root?(r(),_("div",De,N(e.item.label),1)):(r(),$(s,{key:1,to:e.item.to||e.item.url,target:e.item.target,class:M([e.item.class,{"p-disabled":e.item.disabled}]),style:Y(e.item.style),exact:"",onClick:l},{default:b(()=>[c("i",{class:M(e.item.icon)},null,2),c("span",null,N(e.item.label),1),e.item.items?(r(),_("i",{key:0,class:M(["ml-auto",{"i-carbon-chevron-down":!e.active,"i-carbon-chevron-up":e.active}])},null,2)):O("",!0)]),_:1},8,["to","target","class","style"]))])}}});const We=T(Qe,[["__scopeId","data-v-ea8c05a9"]]),Ue=I({__name:"AppSubMenu",props:{items:null,root:{type:Boolean}},emits:["menuitemClick"],setup(e,{emit:t}){const n=v(null);function l({event:a,item:s,index:i}){n.value=i===n.value?null:i,t("menuitemClick",{event:a,item:s,index:i})}function o(a){return typeof a.visible=="function"?a.visible():a.visible!==!1}return(a,s)=>{const i=We,p=B("AppSubMenu",!0);return r(),_("ul",null,[(r(!0),_(P,null,re(e.items.filter(d=>o(d)),(d,m)=>{var y;return r(),_("li",{key:m,style:Y(d.style),class:M({"x-menuitem-separator":d.separator,"x-menuitem-root":e.root&&!d.separator})},[d.separator?O("",!0):(r(),_(P,{key:0},[u(i,{item:d,root:(y=e.root)!=null?y:!1,active:n.value===m&&!d.to&&!d.disabled,onClick:k=>l({event:k,item:d,index:m})},null,8,["item","root","active","onClick"]),u(Z,{name:"layout-submenu-wrapper"},{default:b(()=>[d.items?x((r(),$(p,{key:0,items:d.items,onMenuitemClick:s[0]||(s[0]=k=>t("menuitemClick",k))},null,8,["items"])),[[K,e.root||n.value===m]]):O("",!0)]),_:2},1024)],64))],6)}),128))])}}});const Re=T(Ue,[["__scopeId","data-v-78a26351"]]),Fe={class:"layout-menu-container"},Ve=I({__name:"AppMenu",props:{layout:null,isDesktop:{type:Boolean}},emits:["menuitemClick","update:layout"],setup(e,{emit:t}){const n=e;function l(){n.layout==="static"?t("update:layout","overlay"):t("update:layout","static")}const o=[{label:"Public",items:[{label:"Search",icon:"i-carbon-search",to:"/search"},{label:"Statistics",icon:"i-carbon-analytics",to:"/stats"}]},{label:"Admin",items:[{label:"Securities",icon:"i-carbon-currency-dollar",to:"/admin/securities"},{label:"Taxonomies",icon:"i-carbon-tree-view",to:"/admin/taxonomies"},{label:"Statistics",icon:"i-carbon-analytics-custom",to:"/admin/stats"}]}];return(a,s)=>{const i=J,p=ee,d=Re;return r(),_("div",Fe,[u(p,null,{default:b(()=>[e.isDesktop?(r(),$(i,{key:0,small:"",class:"absolute right-0 mr-4",icon:e.layout==="static"?"i-carbon-pin-filled":"i-carbon-pin",onClick:l},null,8,["icon"])):O("",!0)]),_:1}),u(d,{items:o,root:!0,onMenuitemClick:s[0]||(s[0]=m=>t("menuitemClick",m))})])}}}),je={class:"flex justify-content-center"},He=I({__name:"AppFooter",setup(e){const t=de(),n=W(()=>t.public.gitSha?"https://github.com/portfolio-report/pr-www/tree/"+t.public.gitSha:"https://www.github.com/portfolio-report/pr-www");return(l,o)=>{const a=J,s=q("tooltip");return r(),_("footer",je,[x(u(a,{href:"https://forum.portfolio-performance.info/",icon:"i-carbon-forum"},null,512),[[s,"Get help and discuss",void 0,{top:!0}]]),x(u(a,{to:"/contact",icon:"i-carbon-email"},null,512),[[s,"Get in contact",void 0,{top:!0}]]),x(u(a,{href:C(n),target:"_blank",icon:"i-carbon-logo-github"},null,8,["href"]),[[s,"Source code",void 0,{top:!0}]])])}}});const ze=T(He,[["__scopeId","data-v-df6a6681"]]);var R;const A=typeof window<"u",Ge=e=>typeof e=="string",E=()=>{};A&&((R=window==null?void 0:window.navigator)==null?void 0:R.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent);function qe(e){return typeof e=="function"?e():C(e)}function Ke(e){return e}function Xe(e){return me()?(fe(e),!0):!1}function Ye(e,t=!0){pe()?z(e):t?e():_e(e)}function Ze(e){var t;const n=qe(e);return(t=n==null?void 0:n.$el)!=null?t:n}const te=A?window:void 0;A&&window.document;A&&window.navigator;A&&window.location;function F(...e){let t,n,l,o;if(Ge(e[0])?([n,l,o]=e,t=te):[t,n,l,o]=e,!t)return E;let a=E;const s=ve(()=>Ze(t),p=>{a(),p&&(p.addEventListener(n,l,o),a=()=>{p.removeEventListener(n,l,o),a=E})},{immediate:!0,flush:"post"}),i=()=>{s(),a()};return Xe(i),i}const D=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Q="__vueuse_ssr_handlers__";D[Q]=D[Q]||{};D[Q];var V;(function(e){e.UP="UP",e.RIGHT="RIGHT",e.DOWN="DOWN",e.LEFT="LEFT",e.NONE="NONE"})(V||(V={}));var Je=Object.defineProperty,j=Object.getOwnPropertySymbols,et=Object.prototype.hasOwnProperty,tt=Object.prototype.propertyIsEnumerable,H=(e,t,n)=>t in e?Je(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,nt=(e,t)=>{for(var n in t||(t={}))et.call(t,n)&&H(e,n,t[n]);if(j)for(var n of j(t))tt.call(t,n)&&H(e,n,t[n]);return e};const ot={easeInSine:[.12,0,.39,0],easeOutSine:[.61,1,.88,1],easeInOutSine:[.37,0,.63,1],easeInQuad:[.11,0,.5,0],easeOutQuad:[.5,1,.89,1],easeInOutQuad:[.45,0,.55,1],easeInCubic:[.32,0,.67,0],easeOutCubic:[.33,1,.68,1],easeInOutCubic:[.65,0,.35,1],easeInQuart:[.5,0,.75,0],easeOutQuart:[.25,1,.5,1],easeInOutQuart:[.76,0,.24,1],easeInQuint:[.64,0,.78,0],easeOutQuint:[.22,1,.36,1],easeInOutQuint:[.83,0,.17,1],easeInExpo:[.7,0,.84,0],easeOutExpo:[.16,1,.3,1],easeInOutExpo:[.87,0,.13,1],easeInCirc:[.55,0,1,.45],easeOutCirc:[0,.55,.45,1],easeInOutCirc:[.85,0,.15,1],easeInBack:[.36,0,.66,-.56],easeOutBack:[.34,1.56,.64,1],easeInOutBack:[.68,-.6,.32,1.6]};nt({linear:Ke},ot);function at(e={}){const{window:t=te,initialWidth:n=1/0,initialHeight:l=1/0,listenOrientation:o=!0,includeScrollbar:a=!0}=e,s=v(n),i=v(l),p=()=>{t&&(a?(s.value=t.innerWidth,i.value=t.innerHeight):(s.value=t.document.documentElement.clientWidth,i.value=t.document.documentElement.clientHeight))};return p(),Ye(p),F("resize",p,{passive:!0}),o&&F("orientationchange",p,{passive:!0}),{width:s,height:i}}const lt={class:"layout-main-container"},st={class:"layout-main"},it={key:0,class:"layout-mask p-component-overlay"},ut=I({__name:"default",setup(e){const t=v("static"),n=v(!1),l=v(!1),o=v(!1),a=v(),s=G(),{width:i}=at(),p=W(()=>i.value>=992);function d(){a.value=!0,p.value?t.value==="overlay"?(o.value===!0&&(l.value=!0),l.value=!l.value,o.value=!1):t.value==="static"&&(n.value=!n.value):o.value=!o.value}function m(){a.value=!0}function y(f){f.item.items||(l.value=!1,o.value=!1)}function k(){a.value||(l.value=!1,o.value=!1),a.value=!1}function w(f,h){f.classList?f.classList.add(h):f.className+=" "+h}function L(f,h){f.classList?f.classList.remove(h):f.className=f.className.replace(new RegExp("(^|\\b)"+h.split(" ").join("|")+"(\\b|$)","gi")," ")}ye(()=>{o.value?w(document.body,"overflow-hidden"):L(document.body,"overflow-hidden")});const S=v(["layout-wrapper","layout-overlay"]);return be(()=>{s.loggedIn?S.value=["layout-wrapper",{"layout-overlay":t.value==="overlay","layout-static":t.value==="static","layout-static-sidebar-inactive":n.value&&t.value==="static","layout-overlay-sidebar-active":l.value&&t.value==="overlay","layout-mobile-sidebar-active":o.value}]:S.value=["layout-wrapper","layout-overlay"]},{flush:"post"}),(f,h)=>{const ne=Ne,oe=Ve,ae=ze;return r(),_("div",{class:M(S.value),onClick:k},[u(ne,{onMenuToggle:d}),c("div",{class:"layout-sidebar",onClick:m},[u(oe,{layout:t.value,"onUpdate:layout":h[0]||(h[0]=le=>t.value=le),"is-desktop":C(p),onMenuitemClick:y},null,8,["layout","is-desktop"])]),c("div",lt,[c("div",st,[he(f.$slots,"default",{},void 0,!0)]),u(ae)]),u(Z,{name:"layout-mask"},{default:b(()=>[o.value?(r(),_("div",it)):O("",!0)]),_:1})],2)}}});const pt=T(ut,[["__scopeId","data-v-a92fd342"]]);export{pt as default};
