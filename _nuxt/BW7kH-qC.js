import h from"./Adr9SFnb.js";import v from"./DnvU7ZLz.js";import C from"./UUdUisDg.js";import g from"./MyEEkBqH.js";import{h as D,F as B,R as $,S as x,c as w,l as S,x as A,J as R,T,m as e,q as s,t as V,u as l}from"./y4C5jq68.js";import{u as k}from"./CXozSVW_.js";import{u as F}from"./BX4piLyv.js";import{s as E}from"./BGd4G2Qu.js";import"./BZzLiqea.js";import"./BapkLVNP.js";import"./jqhPBij4.js";import"./BPZD2E_g.js";import"./BLZXcFsD.js";import"./Dtx20XX_.js";import"./BD1HQLrG.js";import"./DeN23xvO.js";import"./Gn4Z8Lyc.js";import"./CfTuwgbt.js";import"./CqhDFITS.js";import"./BWq4-HVe.js";import"./CZNNSClt.js";import"./kZgpnO1M.js";import"./DVDciGkB.js";import"./D110kWJn.js";import"./Cmppw8PP.js";import"./BYD3bPyD.js";import"./Bg7DctZg.js";import"./CuzxFPf4.js";import"./DgOYwWIW.js";import"./Dqp_tlc3.js";const ct=D({__name:"[version]",async setup(N){var c;let i,m;const u=B(),{data:o,error:f}=([i,m]=$(()=>k(`stats:${u.params.version}`,()=>F(`/stats/updates/${u.params.version}`))),i=await i,m(),i);if(f.value||((c=o.value)==null?void 0:c.byCountry)==null||o.value.byDate==null)throw x({statusCode:404});const _={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1}}},y=w(()=>{var p;if(!((p=o.value)!=null&&p.byCountry))return{labels:[],datasets:[]};const a=[...o.value.byDate].sort((t,n)=>t.date.localeCompare(n.date));return{labels:a.map(t=>t.date),datasets:[{backgroundColor:"#3B82F6",borderColor:"#3B82F6",fill:!1,data:a.map(t=>t.count)}]}});return(a,p)=>{const t=h,n=v,d=C,b=g;return V(),S("div",null,[A("h2",null,"Version Statistics for "+R((a._.provides[T]||a.$route).params.version),1),e(b,null,{default:s(()=>[e(d,{header:"By date"},{default:s(()=>{var r;return[e(l(E),{type:"line",data:l(y),options:_,style:{height:"400px"}},null,8,["data"]),e(n,{value:(r=l(o))==null?void 0:r.byDate,"sort-field":"date","sort-order":-1,class:"p-datatable-sm font-mono"},{default:s(()=>[e(t,{field:"date",header:"Date",sortable:!0}),e(t,{field:"count",header:"Count",sortable:!0,class:"text-right"})]),_:1},8,["value"])]}),_:1}),e(d,{header:"By country"},{default:s(()=>{var r;return[e(n,{value:(r=l(o))==null?void 0:r.byCountry,"sort-field":"count","sort-order":-1,class:"p-datatable-sm font-mono"},{default:s(()=>[e(t,{field:"country",header:"Country",sortable:!0}),e(t,{field:"count",header:"Count",sortable:!0,class:"text-right"})]),_:1},8,["value"])]}),_:1})]),_:1})])}}});export{ct as default};
